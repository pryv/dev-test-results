[
  {
    "stats": {
      "suites": 150,
      "tests": 317,
      "passes": 314,
      "pending": 2,
      "failures": 15,
      "start": "2019-05-06T12:23:06.509Z",
      "end": "2019-05-06T12:23:51.542Z",
      "duration": 45033
    },
    "tests": [
      {
        "title": "should contain deletions",
        "fullTitle": "access deletions when given a few existing accesses accesses.get should contain deletions",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains active accesses",
        "fullTitle": "access deletions when given a few existing accesses accesses.get contains active accesses",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains deleted accesses as well",
        "fullTitle": "access deletions when given a few existing accesses accesses.get contains deleted accesses as well",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "deleted access are in UTC (seconds) format",
        "fullTitle": "access deletions when given a few existing accesses accesses.get deleted access are in UTC (seconds) format",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain an access",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a valid access should contain an access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain the set values, but no \"deleted\" field in the API response",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a valid access should contain the set values, but no \"deleted\" field in the API response",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain the field \"deleted:null\" in the database",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a valid access should contain the field \"deleted:null\" in the database",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return an error",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a deleted access should return an error",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "error should say that the deleted field is forbidden upon creation",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a deleted access error should say that the deleted field is forbidden upon creation",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return an error",
        "fullTitle": "access deletions when given a few existing accesses accesses.update should return an error",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "error should say that the deleted field is forbidden upon update",
        "fullTitle": "access deletions when given a few existing accesses accesses.update error should say that the deleted field is forbidden upon update",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "access expiry when given a few existing accesses accesses.get vanilla version succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains only active accesses",
        "fullTitle": "access expiry when given a few existing accesses accesses.get vanilla version contains only active accesses",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "access expiry when given a few existing accesses accesses.get when given the includeExpired=true parameter succeeds",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "includes expired accesses",
        "fullTitle": "access expiry when given a few existing accesses accesses.get when given the includeExpired=true parameter includes expired accesses",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "creates an access with set expiry timestamp",
        "fullTitle": "access expiry when given a few existing accesses accesses.create when called with expireAfter>0 creates an access with set expiry timestamp",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "creates an expired access",
        "fullTitle": "access expiry when given a few existing accesses accesses.create when called with expireAfter=0 creates an expired access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails",
        "fullTitle": "access expiry when given a few existing accesses accesses.create when called with expireAfter<0 fails",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "sets the 'expires' attribute",
        "fullTitle": "access expiry when given a few existing accesses accesses.update with expireAfter>0 sets the 'expires' attribute",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "expires the access immediately",
        "fullTitle": "access expiry when given a few existing accesses accesses.update with expireAfter=0 expires the access immediately",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "removes expiry",
        "fullTitle": "access expiry when given a few existing accesses accesses.update with expires=null removes expiry",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails",
        "fullTitle": "access expiry when given a few existing accesses accesses.update when trying to update itself with a longer expiration fails",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the matching access",
        "fullTitle": "access expiry when given a few existing accesses accesses.checkApp when the matching access is not expired returns the matching access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns no match",
        "fullTitle": "access expiry when given a few existing accesses accesses.checkApp when the matching access is expired returns no match",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails",
        "fullTitle": "access expiry when given a few existing accesses other API accesses using an expired access fails",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns a proper error message",
        "fullTitle": "access expiry when given a few existing accesses other API accesses using an expired access returns a proper error message",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "access expiry when given a few existing accesses other API accesses using a valid access succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "access client data when given a few existing accesses accesses.get succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains existing accesses with clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.get contains existing accesses with clientData",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "creates an access with empty clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.create when called with clientData={} creates an access with empty clientData",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws a schema error",
        "fullTitle": "access client data when given a few existing accesses accesses.create when called with clientData=null throws a schema error",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "creates an access with complex clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.create when called with complex clientData creates an access with complex clientData",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "updates previous clientData with new clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.update if existing clientData was not empty updates previous clientData with new clientData",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "keeps existing clientData untouched",
        "fullTitle": "access client data when given a few existing accesses accesses.update if clientData is not provided keeps existing clientData untouched",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "sets clientData to provided clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.update if existing clientData was empty sets clientData to provided clientData",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "removes existing clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.update if provided clientData is explicitely null removes existing clientData",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the matching access",
        "fullTitle": "access client data when given a few existing accesses accesses.checkApp when the provided clientData matches the existing clientData returns the matching access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns no match",
        "fullTitle": "access client data when given a few existing accesses accesses.checkApp when the provided clientData does not match the existing clientData returns no match",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns no match",
        "fullTitle": "access client data when given a few existing accesses accesses.checkApp when no clientData is provided but existing access has one returns no match",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "users pool create pool user succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains a generated pool user id",
        "fullTitle": "users pool create pool user contains a generated pool user id",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "created a user in the database",
        "fullTitle": "users pool create pool user created a user in the database",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "created the related collections",
        "fullTitle": "users pool create pool user created the related collections",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "created the related indexes",
        "fullTitle": "users pool create pool user created the related indexes",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must succeed",
        "fullTitle": "users pool get pool size when empty must succeed",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return 0",
        "fullTitle": "users pool get pool size when empty must return 0",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "users pool get pool size when adding pool users succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "has the right number of pool users",
        "fullTitle": "users pool get pool size when adding pool users has the right number of pool users",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return shared accesses whose permissions are a subset of the current one's",
        "fullTitle": "accesses (app) GET / must return shared accesses whose permissions are a subset of the current one's",
        "duration": 71,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be forbidden to requests with a shared access token",
        "fullTitle": "accesses (app) GET / must be forbidden to requests with a shared access token",
        "duration": 13,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new shared access with the sent data and return it",
        "fullTitle": "accesses (app) POST / must create a new shared access with the sent data and return it",
        "duration": 44,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to create a non-shared access",
        "fullTitle": "accesses (app) POST / must forbid trying to create a non-shared access",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to create an access with greater permissions",
        "fullTitle": "accesses (app) POST / must forbid trying to create an access with greater permissions",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "accesses (app) POST / must return a correct error if the sent data is badly formatted",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow creation of shared accesses with an access that has superior permission on root stream (*)",
        "fullTitle": "accesses (app) POST / must allow creation of shared accesses with an access that has superior permission on root stream (*)",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the access with the sent data",
        "fullTitle": "accesses (app) PUT /<token> must modify the access with the sent data",
        "duration": 27,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to modify a non-shared access",
        "fullTitle": "accesses (app) PUT /<token> must forbid trying to modify a non-shared access",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to modify an access with greater permissions",
        "fullTitle": "accesses (app) PUT /<token> must forbid trying to modify an access with greater permissions",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the access does not exist",
        "fullTitle": "accesses (app) PUT /<token> must return a correct error if the access does not exist",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "accesses (app) PUT /<token> must return a correct error if the sent data is badly formatted",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if an access with the same name already exists",
        "fullTitle": "accesses (app) PUT /<token> must return a correct error if an access with the same name already exists",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the shared access",
        "fullTitle": "accesses (app) DELETE /<token> must delete the shared access",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to delete a non-shared access",
        "fullTitle": "accesses (app) DELETE /<token> must forbid trying to delete a non-shared access",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to delete an access with greater permissions",
        "fullTitle": "accesses (app) DELETE /<token> must forbid trying to delete an access with greater permissions",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the access does not exist",
        "fullTitle": "accesses (app) DELETE /<token> must return a correct error if the access does not exist",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return all accesses (including personal ones)",
        "fullTitle": "accesses (personal) GET / must return all accesses (including personal ones)",
        "duration": 18,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new shared access with the sent data, returning it",
        "fullTitle": "accesses (personal) POST / must create a new shared access with the sent data, returning it",
        "duration": 35,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new app access with the sent data, creating/restoring requested streams",
        "fullTitle": "accesses (personal) POST / must create a new app access with the sent data, creating/restoring requested streams",
        "duration": 75,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept two app accesses with the same name (app ids) but different device names",
        "fullTitle": "accesses (personal) POST / must accept two app accesses with the same name (app ids) but different device names",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must ignore erroneous requests to create new streams",
        "fullTitle": "accesses (personal) POST / must ignore erroneous requests to create new streams",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if a stream similar to that requested for creation already exists",
        "fullTitle": "accesses (personal) POST / must fail if a stream similar to that requested for creation already exists",
        "duration": 20,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse to create new personal accesses (obtained via login only)",
        "fullTitle": "accesses (personal) POST / must refuse to create new personal accesses (obtained via login only)",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must slugify the new access' predefined token",
        "fullTitle": "accesses (personal) POST / must slugify the new access' predefined token",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the sent data is badly formatted",
        "fullTitle": "accesses (personal) POST / must return an error if the sent data is badly formatted",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse empty `defaultName` values for streams",
        "fullTitle": "accesses (personal) POST / must refuse empty `defaultName` values for streams",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if an access with the same token already exists",
        "fullTitle": "accesses (personal) POST / must return an error if an access with the same token already exists",
        "duration": 18,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if an access with the same name already exists",
        "fullTitle": "accesses (personal) POST / must return an error if an access with the same name already exists",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if an \"app\" access with the same name (app id) and device name already exists",
        "fullTitle": "accesses (personal) POST / must return an error if an \"app\" access with the same name (app id) and device name already exists",
        "duration": 24,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the device name is set for a non-app access",
        "fullTitle": "accesses (personal) POST / must return an error if the device name is set for a non-app access",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the given predefined access's token is a reserved word",
        "fullTitle": "accesses (personal) POST / must return an error if the given predefined access's token is a reserved word",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the shared access with the sent data",
        "fullTitle": "accesses (personal) PUT /<token> must modify the shared access with the sent data",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the personal access with the specified data",
        "fullTitle": "accesses (personal) PUT /<token> must modify the personal access with the specified data",
        "duration": 30,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the access does not exist",
        "fullTitle": "accesses (personal) PUT /<token> must return an error if the access does not exist",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the sent data is badly formatted",
        "fullTitle": "accesses (personal) PUT /<token> must return an error if the sent data is badly formatted",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if an access with the same name and type already exists",
        "fullTitle": "accesses (personal) PUT /<token> must return an error if an access with the same name and type already exists",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must prevent update of protected fields and throw a forbidden error in strict mode",
        "fullTitle": "accesses (personal) PUT /<token> forbidden updates of protected fields must prevent update of protected fields and throw a forbidden error in strict mode",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must prevent update of protected fields and log a warning in non-strict mode",
        "fullTitle": "accesses (personal) PUT /<token> forbidden updates of protected fields must prevent update of protected fields and log a warning in non-strict mode",
        "duration": 1158,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid to elevate a read level into a manage level using a contribute access ",
        "fullTitle": "accesses (personal) PUT /<token> forbidden updates of protected fields must forbid to elevate a read level into a manage level using a contribute access ",
        "duration": 70,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid to extend the permission streamIds beyond the authorized context ",
        "fullTitle": "accesses (personal) PUT /<token> forbidden updates of protected fields must forbid to extend the permission streamIds beyond the authorized context ",
        "duration": 58,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the shared access",
        "fullTitle": "accesses (personal) DELETE /<token> must delete the shared access",
        "duration": 36,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the personal access",
        "fullTitle": "accesses (personal) DELETE /<token> must delete the personal access",
        "duration": 30,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the access does not exist",
        "fullTitle": "accesses (personal) DELETE /<token> must return an error if the access does not exist",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the adjusted permissions structure if no access exists",
        "fullTitle": "accesses (personal) POST /check-app must return the adjusted permissions structure if no access exists",
        "duration": 16,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept requested permissions with \"*\" for \"all streams\"",
        "fullTitle": "accesses (personal) POST /check-app must accept requested permissions with \"*\" for \"all streams\"",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the existing app access if matching",
        "fullTitle": "accesses (personal) POST /check-app must return the existing app access if matching",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must also return the token of the existing mismatching access if any",
        "fullTitle": "accesses (personal) POST /check-app must also return the token of the existing mismatching access if any",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must propose fixes to duplicate ids of streams and signal an error when appropriate",
        "fullTitle": "accesses (personal) POST /check-app must propose fixes to duplicate ids of streams and signal an error when appropriate",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the sent data is badly formatted",
        "fullTitle": "accesses (personal) POST /check-app must return an error if the sent data is badly formatted",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be forbidden to non-personal accesses",
        "fullTitle": "accesses (personal) POST /check-app must be forbidden to non-personal accesses",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must authenticate the given credentials, open a session and return the access token",
        "fullTitle": "auth /login must authenticate the given credentials, open a session and return the access token",
        "duration": 166,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must reuse the current session if already open",
        "fullTitle": "auth /login must reuse the current session if already open",
        "duration": 217,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept \"wildcarded\" app ids and origins",
        "fullTitle": "auth /login must accept \"wildcarded\" app ids and origins",
        "duration": 99,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept \"no origin\" (i.e. not a CORS request) if authorized",
        "fullTitle": "auth /login must accept \"no origin\" (i.e. not a CORS request) if authorized",
        "duration": 120,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must also accept \"referer\" in place of \"origin\" (e.g. some browsers do not provide \"origin\")",
        "fullTitle": "auth /login must also accept \"referer\" in place of \"origin\" (e.g. some browsers do not provide \"origin\")",
        "duration": 102,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must also accept \"referer\" in place of \"origin\" (e.g. some browsers do not provide \"origin\")",
        "fullTitle": "auth /login must also accept \"referer\" in place of \"origin\" (e.g. some browsers do not provide \"origin\")",
        "duration": 105,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not be case-sensitive for the username",
        "fullTitle": "auth /login must not be case-sensitive for the username",
        "duration": 98,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error when the local credentials are missing or invalid",
        "fullTitle": "auth /login must return a correct error when the local credentials are missing or invalid",
        "duration": 90,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the app id is missing or untrusted",
        "fullTitle": "auth /login must return a correct error if the app id is missing or untrusted",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the origin is missing or does not match the app id",
        "fullTitle": "auth /login must return a correct error if the origin is missing or does not match the app id",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must support concurrent login request",
        "fullTitle": "auth /login must support concurrent login request",
        "duration": 119,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not leak _private object from Result",
        "fullTitle": "auth /login must not leak _private object from Result",
        "duration": 104,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must replace the password in the logs by (hidden) when an error occurs",
        "fullTitle": "auth /login when we log into a temporary log file must replace the password in the logs by (hidden) when an error occurs",
        "duration": 132,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not mention the password in the logs when none is provided",
        "fullTitle": "auth /login when we log into a temporary log file must not mention the password in the logs when none is provided",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must terminate the access session and fail to logout a second time (session already expired)",
        "fullTitle": "auth /logout must terminate the access session and fail to logout a second time (session already expired)",
        "duration": 222,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "(or any request) must alternatively accept the access token in the query string",
        "fullTitle": "auth /logout (or any request) must alternatively accept the access token in the query string",
        "duration": 141,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "GET /who-am-i must return a 404 as it has been deprecated",
        "fullTitle": "auth SSO support GET /who-am-i must return a 404 as it has been deprecated",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must set the SSO cookie on /login with the access token",
        "fullTitle": "auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set must set the SSO cookie on /login with the access token",
        "duration": 157,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must answer /who-am-i with username and session details if session open",
        "fullTitle": "auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set must answer /who-am-i with username and session details if session open",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must clear the SSO cookie on /logout",
        "fullTitle": "auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set must clear the SSO cookie on /logout",
        "duration": 45,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must respond /who-am-i with an \"unauthorized\" error if no cookie is sent",
        "fullTitle": "auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set must respond /who-am-i with an \"unauthorized\" error if no cookie is sent",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return all followed slices (ordered by user name, then access token)",
        "fullTitle": "followed slices GET / must return all followed slices (ordered by user name, then access token)",
        "duration": 30,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be forbidden to non-personal accesses",
        "fullTitle": "followed slices GET / must be forbidden to non-personal accesses",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new followed slice with the sent data, returning it",
        "fullTitle": "followed slices POST / must create a new followed slice with the sent data, returning it",
        "duration": 35,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "followed slices POST / must return a correct error if the sent data is badly formatted",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the same followed slice (url and token) already exists",
        "fullTitle": "followed slices POST / must return a correct error if the same followed slice (url and token) already exists",
        "duration": 24,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if a followed slice with the same name already exists",
        "fullTitle": "followed slices POST / must return a correct error if a followed slice with the same name already exists",
        "duration": 19,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the followed slice with the sent data",
        "fullTitle": "followed slices PUT /<id> must modify the followed slice with the sent data",
        "duration": 31,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the followed slice does not exist",
        "fullTitle": "followed slices PUT /<id> must return a correct error if the followed slice does not exist",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "followed slices PUT /<id> must return a correct error if the sent data is badly formatted",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if a followed slice with the same name already exists",
        "fullTitle": "followed slices PUT /<id> must return a correct error if a followed slice with the same name already exists",
        "duration": 14,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the followed slice",
        "fullTitle": "followed slices DELETE /<id> must delete the followed slice",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the followed slice does not exist",
        "fullTitle": "followed slices DELETE /<id> must return a correct error if the followed slice does not exist",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with streams schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with streams schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with streams schema must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with events schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with events schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with events schema must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with accesses schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with accesses schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with accesses schema must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should throw an error if mailing method is invalid",
        "fullTitle": "Mailing helper methods should throw an error if mailing method is invalid",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should throw an error if mailing method is missing",
        "fullTitle": "Mailing helper methods should throw an error if mailing method is missing",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should not be empty",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should not be empty",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid auth key",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should contain a valid auth key",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid recipient",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should contain a valid recipient",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid substitution of variables",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should contain a valid substitution of variables",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain valid tags",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should contain valid tags",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should not be empty",
        "fullTitle": "Mailing helper methods using Microservice validating request body should not be empty",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid auth key",
        "fullTitle": "Mailing helper methods using Microservice validating request body should contain a valid auth key",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid recipient",
        "fullTitle": "Mailing helper methods using Microservice validating request body should contain a valid recipient",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid substitution of variables",
        "fullTitle": "Mailing helper methods using Microservice validating request body should contain a valid substitution of variables",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an array preceded by a comma when called with parameter isFirst=false",
        "fullTitle": "ArrayStream must return an array preceded by a comma when called with parameter isFirst=false",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit-3 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit-3 items",
        "duration": 37,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit-2 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit-2 items",
        "duration": 20,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit-1 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit-1 items",
        "duration": 17,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit+0 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit+0 items",
        "duration": 17,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit+1 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit+1 items",
        "duration": 13,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit+2 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit+2 items",
        "duration": 19,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit+3 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit+3 items",
        "duration": 17,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving 0 item(s)",
        "fullTitle": "ArrayStream testing with small number of items must return a valid array when receiving 0 item(s)",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving 1 item(s)",
        "fullTitle": "ArrayStream testing with small number of items must return a valid array when receiving 1 item(s)",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving 2 item(s)",
        "fullTitle": "ArrayStream testing with small number of items must return a valid array when receiving 2 item(s)",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving 3 item(s)",
        "fullTitle": "ArrayStream testing with small number of items must return a valid array when receiving 3 item(s)",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be fed objects and return them in the callback",
        "fullTitle": "DrainStream must be fed objects and return them in the callback",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error when the provided limit is exceeded",
        "fullTitle": "DrainStream must return an error when the provided limit is exceeded",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "`get` must only return streams for which permissions are defined",
        "fullTitle": "Access permissions Streams `get` must only return streams for which permissions are defined",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid creating child streams in 'read-only' streams",
        "fullTitle": "Access permissions Streams must forbid creating child streams in 'read-only' streams",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid creating child streams in 'contribute' streams",
        "fullTitle": "Access permissions Streams must forbid creating child streams in 'contribute' streams",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid deleting child streams in 'contribute' streams",
        "fullTitle": "Access permissions Streams must forbid deleting child streams in 'contribute' streams",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid updating 'contribute' streams",
        "fullTitle": "Access permissions Streams must forbid updating 'contribute' streams",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid deleting 'contribute' streams",
        "fullTitle": "Access permissions Streams must forbid deleting 'contribute' streams",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow creating child streams in 'managed' streams",
        "fullTitle": "Access permissions Streams must allow creating child streams in 'managed' streams",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid moving streams into non-'managed' parent streams",
        "fullTitle": "Access permissions Streams must forbid moving streams into non-'managed' parent streams",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow deleting child streams in 'managed' streams",
        "fullTitle": "Access permissions Streams must allow deleting child streams in 'managed' streams",
        "duration": 18,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must recursively apply permissions to the streams' child streams",
        "fullTitle": "Access permissions Streams must recursively apply permissions to the streams' child streams",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow access to all streams when no specific stream permissions are defined",
        "fullTitle": "Access permissions Streams must allow access to all streams when no specific stream permissions are defined",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow access to all streams when only tag permissions are defined",
        "fullTitle": "Access permissions Streams must allow access to all streams when only tag permissions are defined",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must only allow access to set streams when both tag and stream permissions are defined",
        "fullTitle": "Access permissions Streams must only allow access to set streams when both tag and stream permissions are defined",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must handle optional caller id in auth (in addition to token)",
        "fullTitle": "Access permissions Auth and change tracking must handle optional caller id in auth (in addition to token)",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be supported and deny access when failing",
        "fullTitle": "Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) must be supported and deny access when failing",
        "duration": 80,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow access when successful",
        "fullTitle": "Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) must allow access when successful",
        "duration": 38,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail properly (i.e. not granting access) when the custom function crashes",
        "fullTitle": "Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) must fail properly (i.e. not granting access) when the custom function crashes",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must validate the custom function at startup time",
        "fullTitle": "Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) must validate the custom function at startup time",
        "duration": 622,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return publicly shared key-value profile info",
        "fullTitle": "profile (app) GET /public must return publicly shared key-value profile info",
        "duration": 61,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return key-value settings for the current app",
        "fullTitle": "profile (app) GET /app must return key-value settings for the current app",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse requests with a shared access token",
        "fullTitle": "profile (app) GET /app must refuse requests with a shared access token",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse requests with a personal access token",
        "fullTitle": "profile (app) GET /app must refuse requests with a personal access token",
        "duration": 124,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must add/update/remove the specified keys without touching the others",
        "fullTitle": "profile (app) PUT /app must add/update/remove the specified keys without touching the others",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse requests with a shared access token",
        "fullTitle": "profile (app) PUT /app must refuse requests with a shared access token",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse requests with a personal access token",
        "fullTitle": "profile (app) PUT /app must refuse requests with a personal access token",
        "duration": 119,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "/public must return publicly shared key-value profile info",
        "fullTitle": "profile (personal) GET /public must return publicly shared key-value profile info",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "/private must return private key-value profile info",
        "fullTitle": "profile (personal) GET /private must return private key-value profile info",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an appropriate error for other paths",
        "fullTitle": "profile (personal) GET must return an appropriate error for other paths",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "\"private\" must be forbidden to non-personal accesses",
        "fullTitle": "profile (personal) GET \"private\" must be forbidden to non-personal accesses",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "/public must add/update/remove the specified keys without touching the others",
        "fullTitle": "profile (personal) PUT /public must add/update/remove the specified keys without touching the others",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "/private must add/update/remove the specified keys without touching the others",
        "fullTitle": "profile (personal) PUT /private must add/update/remove the specified keys without touching the others",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create the profile if not existing",
        "fullTitle": "profile (personal) PUT must create the profile if not existing",
        "duration": 59,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an appropriate error for other paths",
        "fullTitle": "profile (personal) PUT must return an appropriate error for other paths",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be forbidden to non-personal accesses",
        "fullTitle": "profile (personal) PUT must be forbidden to non-personal accesses",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the result's content when not storing streams",
        "fullTitle": "Result toObject() must return the result's content when not storing streams",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the result content when storing streams",
        "fullTitle": "Result toObject() must return the result content when storing streams",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error object when attempting to serialize streams containing an amountof objects exceeding the limit",
        "fullTitle": "Result toObject() must return an error object when attempting to serialize streams containing an amountof objects exceeding the limit",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error when storing piped streams",
        "fullTitle": "Result toObject() must return an error when storing piped streams",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error when the core pipeline crashes because of size",
        "fullTitle": "Result toObject() must return an error when the core pipeline crashes because of size",
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return basic server meta information as JSON when requested",
        "fullTitle": "root GET / should return basic server meta information as JSON when requested",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return basic server meta information as text otherwise",
        "fullTitle": "root GET / should return basic server meta information as text otherwise",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return an error if trying to access an unknown user account",
        "fullTitle": "root GET / should return an error if trying to access an unknown user account",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return correct common HTTP headers + meta data in response body",
        "fullTitle": "root All requests: should return correct common HTTP headers + meta data in response body",
        "duration": 31,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return meta data in response body for errors as well",
        "fullTitle": "root All requests: should return meta data in response body for errors as well",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should properly translate the Host header's username (i.e. subdomain)",
        "fullTitle": "root All requests: should properly translate the Host header's username (i.e. subdomain)",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should translate the username in subdomain also when it only contains numbers",
        "fullTitle": "root All requests: should translate the username in subdomain also when it only contains numbers",
        "duration": 110,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should support POSTing \"urlencoded\" content with _json and _auth fields",
        "fullTitle": "root All requests: should support POSTing \"urlencoded\" content with _json and _auth fields",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should support POSTing \"urlencoded\" content with _json, _method (PUT) and _auth fields",
        "fullTitle": "root All requests: should support POSTing \"urlencoded\" content with _json, _method (PUT) and _auth fields",
        "duration": 35,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should support POSTing \"urlencoded\" content with _json, _method (DELETE) and _auth fields",
        "fullTitle": "root All requests: should support POSTing \"urlencoded\" content with _json, _method (DELETE) and _auth fields",
        "duration": 46,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should properly handle JSON errors when POSTing \"urlencoded\" content with _json field",
        "fullTitle": "root All requests: should properly handle JSON errors when POSTing \"urlencoded\" content with _json field",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should update the access's \"last used\" time and *internal* request counters",
        "fullTitle": "root All requests: should update the access's \"last used\" time and *internal* request counters",
        "duration": 19,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return OK",
        "fullTitle": "root OPTIONS / should return OK",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return current access information",
        "fullTitle": "root GET /access-info must return current access information",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must execute the given method calls and return the results",
        "fullTitle": "root POST / (i.e. batch call) must execute the given method calls and return the results",
        "duration": 76,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must execute the method calls containing events.get and return the results",
        "fullTitle": "root POST / (i.e. batch call) must execute the method calls containing events.get and return the results",
        "duration": 73,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the sent data is badly formatted",
        "fullTitle": "root POST / (i.e. batch call) must return an error if the sent data is badly formatted",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must dynamically create a namespace for the user",
        "fullTitle": "Socket.IO must dynamically create a namespace for the user",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must connect to a user with a dash in the username",
        "fullTitle": "Socket.IO must connect to a user with a dash in the username",
        "duration": 147,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse connection if no valid access token is provided",
        "fullTitle": "Socket.IO must refuse connection if no valid access token is provided",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must properly route method call messages for events and return the results, including meta",
        "fullTitle": "Socket.IO calling API methods must properly route method call messages for events and return the results, including meta",
        "duration": 20,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must properly route method call messages for streams and return the results",
        "fullTitle": "Socket.IO calling API methods must properly route method call messages for streams and return the results",
        "duration": 15,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not crash when callers omit the callback",
        "fullTitle": "Socket.IO calling API methods must not crash when callers omit the callback",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if the called target does not exist",
        "fullTitle": "Socket.IO calling API methods must fail if the called target does not exist",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if the called method does not exist",
        "fullTitle": "Socket.IO calling API methods must fail if the called method does not exist",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return API errors properly, including meta",
        "fullTitle": "Socket.IO calling API methods must return API errors properly, including meta",
        "duration": 16,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must notify other sockets for the same user about events changes",
        "fullTitle": "Socket.IO calling API methods must notify other sockets for the same user about events changes",
        "duration": 38,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must notify other sockets for the same user (only) about streams changes",
        "fullTitle": "Socket.IO calling API methods must notify other sockets for the same user (only) about streams changes",
        "duration": 103,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must notify on each change",
        "fullTitle": "Socket.IO calling API methods must notify on each change",
        "duration": 61,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "changes made in A notify clients of B",
        "fullTitle": "Socket.IO when spawning 2 api-server processes, A and B changes made in A notify clients of B",
        "duration": 120,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return non-trashed streams (as a tree) by default",
        "fullTitle": "streams GET / must return non-trashed streams (as a tree) by default",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return all streams (trashed or not) when requested",
        "fullTitle": "streams GET / must return all streams (trashed or not) when requested",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must include stream deletions (since the given time) when requested",
        "fullTitle": "streams GET / must include stream deletions (since the given time) when requested",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must include stream deletions even when the given time is 0",
        "fullTitle": "streams GET / must include stream deletions even when the given time is 0",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not keep stream deletions past a certain time (cannot test because cannot force-run Mongo's TTL cleanup task)",
        "fullTitle": "streams GET / must not keep stream deletions past a certain time (cannot test because cannot force-run Mongo's TTL cleanup task)",
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 401 error if no access token is provided",
        "fullTitle": "streams GET / must return a correct 401 error if no access token is provided",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return child streams when providing a parent stream id",
        "fullTitle": "streams GET / must return child streams when providing a parent stream id",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the parent stream is unknown",
        "fullTitle": "streams GET / must return a correct error if the parent stream is unknown",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new \"root\" stream with the sent data, returning it",
        "fullTitle": "streams POST / must create a new \"root\" stream with the sent data, returning it",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "streams POST / must return a correct error if the sent data is badly formatted",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if a stream with the same id already exists",
        "fullTitle": "streams POST / must return a correct error if a stream with the same id already exists",
        "duration": 16,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow reuse of deleted ids",
        "fullTitle": "streams POST / must allow reuse of deleted ids",
        "duration": 37,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept explicit null for optional fields",
        "fullTitle": "streams POST / must accept explicit null for optional fields",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if a sibling stream with the same name already exists",
        "fullTitle": "streams POST / must fail if a sibling stream with the same name already exists",
        "duration": 19,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is not valid JSON",
        "fullTitle": "streams POST / must return a correct error if the sent data is not valid JSON",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new child stream (with predefined id) when providing a parent stream id",
        "fullTitle": "streams POST / must create a new child stream (with predefined id) when providing a parent stream id",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the new stream's parentId is the empty string",
        "fullTitle": "streams POST / must return an error if the new stream's parentId is the empty string",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must slugify the new stream's predefined id",
        "fullTitle": "streams POST / must slugify the new stream's predefined id",
        "duration": 27,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the parent stream is unknown",
        "fullTitle": "streams POST / must return a correct error if the parent stream is unknown",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the given predefined stream's id is \"null\"",
        "fullTitle": "streams POST / must return a correct error if the given predefined stream's id is \"null\"",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the given predefined stream's id is \"*\"",
        "fullTitle": "streams POST / must return a correct error if the given predefined stream's id is \"*\"",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the stream with the sent data",
        "fullTitle": "streams PUT /<id> must modify the stream with the sent data",
        "duration": 31,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept explicit null for optional fields",
        "fullTitle": "streams PUT /<id> must accept explicit null for optional fields",
        "duration": 30,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must add/update/remove the specified client data fields without touching the others",
        "fullTitle": "streams PUT /<id> must add/update/remove the specified client data fields without touching the others",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the stream does not exist",
        "fullTitle": "streams PUT /<id> must return a correct error if the stream does not exist",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "streams PUT /<id> must return a correct error if the sent data is badly formatted",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if a sibling stream with the same name already exists",
        "fullTitle": "streams PUT /<id> must fail if a sibling stream with the same name already exists",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must move the stream under the given parent when specified",
        "fullTitle": "streams PUT /<id> must move the stream under the given parent when specified",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the new parent stream is unknown",
        "fullTitle": "streams PUT /<id> must return a correct error if the new parent stream is unknown",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail and throw a forbidden error in strict mode",
        "fullTitle": "streams PUT /<id> forbidden updates of protected fields must fail and throw a forbidden error in strict mode",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must succeed by ignoring protected fields and log a warning in non-strict mode",
        "fullTitle": "streams PUT /<id> forbidden updates of protected fields must succeed by ignoring protected fields and log a warning in non-strict mode",
        "duration": 1238,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must flag the specified stream as trashed",
        "fullTitle": "streams DELETE /<id> must flag the specified stream as trashed",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the stream when already trashed with its descendants if there are no linked events",
        "fullTitle": "streams DELETE /<id> must delete the stream when already trashed with its descendants if there are no linked events",
        "duration": 50,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if there are linked events and the related parameter is missing",
        "fullTitle": "streams DELETE /<id> must return a correct error if there are linked events and the related parameter is missing",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must reject the deletion of a root stream with mergeEventsWithParent=true",
        "fullTitle": "streams DELETE /<id> must reject the deletion of a root stream with mergeEventsWithParent=true",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must reassign the linked events to the deleted stream's parent when specified",
        "fullTitle": "streams DELETE /<id> must reassign the linked events to the deleted stream's parent when specified",
        "duration": 61,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the linked events when mergeEventsWithParent is false",
        "fullTitle": "streams DELETE /<id> must delete the linked events when mergeEventsWithParent is false",
        "currentRetry": 0,
        "err": {
          "operator": "to equal",
          "expected": "200",
          "message": "expected 500 to equal 200",
          "details": "",
          "showDiff": true,
          "actual": "500",
          "negate": false,
          "assertion": {
            "obj": 500,
            "anyOne": false,
            "negate": false,
            "params": {
              "operator": "to equal",
              "expected": 200,
              "details": "",
              "showDiff": true,
              "actual": 500,
              "negate": false,
              "assertion": "[object Object]"
            },
            "light": false
          },
          "stack": "AssertionError: expected 500 to equal 200\n    at Assertion.fail (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/should/cjs/should.js:258:17)\n    at Assertion.value (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/should/cjs/should.js:335:19)\n    at Object.exports.check (test/helpers/validation.js:47:30)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/components/api-server/test/streams.test.js:730:22\n    at end (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/components/test-helpers/src/request.js:111:7)\n    at IndifferentRequest.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "_message": "expected 500 to equal 200",
          "generatedMessage": true,
          "uncaught": true
        }
      },
      {
        "title": "must return a correct error if the item is unknown",
        "fullTitle": "streams DELETE /<id> must return a correct error if the item is unknown",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not send a welcome email if mailing is deactivated",
        "fullTitle": "system (ex-register) POST /create-user must not send a welcome email if mailing is deactivated",
        "duration": 1337,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not send a welcome email if welcome mail is deactivated",
        "fullTitle": "system (ex-register) POST /create-user must not send a welcome email if welcome mail is deactivated",
        "duration": 1333,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new user with the sent data, sending a welcome email",
        "fullTitle": "system (ex-register) POST /create-user when email sending really works must create a new user with the sent data, sending a welcome email",
        "duration": 1352,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must run the process but not save anything for test username \"recla\"",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must run the process but not save anything for test username \"recla\"",
        "duration": 1442,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must support the old \"/register\" path for backwards-compatibility",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must support the old \"/register\" path for backwards-compatibility",
        "duration": 71,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if the sent data is badly formatted",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if the sent data is badly formatted",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if the language property is above 5 characters",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if the language property is above 5 characters",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if the language property is the empty string",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if the language property is the empty string",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if a user with the same user name already exists",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if a user with the same user name already exists",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if a user with the same email address already exists",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if a user with the same email address already exists",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 404 error when authentication is invalid",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 404 error when authentication is invalid",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the content type is wrong",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct error if the content type is wrong",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must replace the passwordHash in the logs by (hidden) when the authentication is invalid",
        "fullTitle": "system (ex-register) POST /create-user when we log into a temporary log file must replace the passwordHash in the logs by (hidden) when the authentication is invalid",
        "duration": 53,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must replace the passwordHash in the logs by (hidden) when the payload is invalid (here parameters)",
        "fullTitle": "system (ex-register) POST /create-user when we log into a temporary log file must replace the passwordHash in the logs by (hidden) when the payload is invalid (here parameters)",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not mention the passwordHash in the logs when none is provided",
        "fullTitle": "system (ex-register) POST /create-user when we log into a temporary log file must not mention the passwordHash in the logs when none is provided",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return user information (including time of last account use)",
        "fullTitle": "system (ex-register) GET /user-info/{username} must return user information (including time of last account use)",
        "duration": 89,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 404 error when authentication is invalid",
        "fullTitle": "system (ex-register) GET /user-info/{username} must return a correct 404 error when authentication is invalid",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should parse file uploads",
        "fullTitle": "uploads middleware hasFileUpload should parse file uploads",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #serverReady notifies internal listeners",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #serverReady notifies axon listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #accountChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #accountChanged notifies axon listeners",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #accessesChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #accessesChanged notifies axon listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #followedSlicesChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #followedSlicesChanged notifies axon listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #streamsChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #streamsChanged notifies axon listeners",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #eventsChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #eventsChanged notifies axon listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns true if all properties exist",
        "fullTitle": "Authentication hasProperties returns true if all properties exist",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns false if not all properties exist",
        "fullTitle": "Authentication hasProperties returns false if not all properties exist",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns false if null is given",
        "fullTitle": "Authentication hasProperties returns false if null is given",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns false if a string is given",
        "fullTitle": "Authentication hasProperties returns false if a string is given",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should behave as documented in the method",
        "fullTitle": "tryCoerceStringValues should behave as documented in the method",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "doesn't create keys in object",
        "fullTitle": "tryCoerceStringValues doesn't create keys in object",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should convert to array",
        "fullTitle": "tryCoerceStringValues should convert to array",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "number conversion works",
        "fullTitle": "tryCoerceStringValues number conversion works",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should construct",
        "fullTitle": "NatsPublisher should construct",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "delivers messages to \"USERNAME.sok1\"",
        "fullTitle": "NatsPublisher delivers messages to \"USERNAME.sok1\"",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should construct",
        "fullTitle": "NatsSubscriber should construct",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "accepts messages from USERNAME.sok1 and dispatches them to sinks",
        "fullTitle": "NatsSubscriber when subscribed to \"foobar\" subscribe(\"USERNAME\") accepts messages from USERNAME.sok1 and dispatches them to sinks",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "ignores messages from other users",
        "fullTitle": "NatsSubscriber when subscribed to \"foobar\" subscribe(\"USERNAME\") ignores messages from other users",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should unsubscribe from NATS",
        "fullTitle": "NatsSubscriber when subscribed to \"foobar\" unsubscribe() should unsubscribe from NATS",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [
      {
        "title": "must return an error when the core pipeline crashes because of size",
        "fullTitle": "Result toObject() must return an error when the core pipeline crashes because of size",
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not keep stream deletions past a certain time (cannot test because cannot force-run Mongo's TTL cleanup task)",
        "fullTitle": "streams GET / must not keep stream deletions past a certain time (cannot test because cannot force-run Mongo's TTL cleanup task)",
        "currentRetry": 0,
        "err": {}
      }
    ],
    "failures": [
      {
        "title": "\"before all\" hook",
        "fullTitle": "account \"before all\" hook",
        "duration": 354,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before all\" hook",
        "fullTitle": "Auditing \"before all\" hook",
        "duration": 280,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before all\" hook: resetEvents",
        "fullTitle": "events GET / \"before all\" hook: resetEvents",
        "duration": 45,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before all\" hook: resetEvents",
        "fullTitle": "events GET /<event id>/<file id> \"before all\" hook: resetEvents",
        "duration": 41,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"must create an event with the sent data, returning it\"",
        "fullTitle": "events POST / \"before each\" hook: resetEvents for \"must create an event with the sent data, returning it\"",
        "duration": 28,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"must create a running period event stopping any previously running event (single activity)\"",
        "fullTitle": "events POST /start \"before each\" hook: resetEvents for \"must create a running period event stopping any previously running event (single activity)\"",
        "duration": 29,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"must create a new event with the uploaded files\"",
        "fullTitle": "events POST / (multipart content) \"before each\" hook: resetEvents for \"must create a new event with the uploaded files\"",
        "duration": 31,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"must add the uploaded files to the event as attachments\"",
        "fullTitle": "events POST /<event id> (multipart content) \"before each\" hook: resetEvents for \"must add the uploaded files to the event as attachments\"",
        "duration": 29,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"allows access at level=read\"",
        "fullTitle": "events GET /<id> \"before each\" hook: resetEvents for \"allows access at level=read\"",
        "duration": 31,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"must modify the event with the sent data\"",
        "fullTitle": "events PUT /<id> \"before each\" hook: resetEvents for \"must modify the event with the sent data\"",
        "duration": 34,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"must stop the previously running period event, returning its id (single activity)\"",
        "fullTitle": "events POST /stop \"before each\" hook: resetEvents for \"must stop the previously running period event, returning its id (single activity)\"",
        "duration": 27,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"must delete the attachment (reference in event + file)\"",
        "fullTitle": "events DELETE /<event id>/<file id> \"before each\" hook: resetEvents for \"must delete the attachment (reference in event + file)\"",
        "duration": 30,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before each\" hook: resetEvents for \"must flag the event as trashed\"",
        "fullTitle": "events DELETE /<id> \"before each\" hook: resetEvents for \"must flag the event as trashed\"",
        "duration": 32,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "\"before all\" hook",
        "fullTitle": "Access permissions Events \"before all\" hook",
        "duration": 30,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      },
      {
        "title": "must delete the linked events when mergeEventsWithParent is false",
        "fullTitle": "streams DELETE /<id> must delete the linked events when mergeEventsWithParent is false",
        "currentRetry": 0,
        "err": {
          "operator": "to equal",
          "expected": "200",
          "message": "expected 500 to equal 200",
          "details": "",
          "showDiff": true,
          "actual": "500",
          "negate": false,
          "assertion": {
            "obj": 500,
            "anyOne": false,
            "negate": false,
            "params": {
              "operator": "to equal",
              "expected": 200,
              "details": "",
              "showDiff": true,
              "actual": 500,
              "negate": false,
              "assertion": "[object Object]"
            },
            "light": false
          },
          "stack": "AssertionError: expected 500 to equal 200\n    at Assertion.fail (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/should/cjs/should.js:258:17)\n    at Assertion.value (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/should/cjs/should.js:335:19)\n    at Object.exports.check (test/helpers/validation.js:47:30)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/components/api-server/test/streams.test.js:730:22\n    at end (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/components/test-helpers/src/request.js:111:7)\n    at IndifferentRequest.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "_message": "expected 500 to equal 200",
          "generatedMessage": true,
          "uncaught": true
        }
      }
    ],
    "passes": [
      {
        "title": "should contain deletions",
        "fullTitle": "access deletions when given a few existing accesses accesses.get should contain deletions",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains active accesses",
        "fullTitle": "access deletions when given a few existing accesses accesses.get contains active accesses",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains deleted accesses as well",
        "fullTitle": "access deletions when given a few existing accesses accesses.get contains deleted accesses as well",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "deleted access are in UTC (seconds) format",
        "fullTitle": "access deletions when given a few existing accesses accesses.get deleted access are in UTC (seconds) format",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain an access",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a valid access should contain an access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain the set values, but no \"deleted\" field in the API response",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a valid access should contain the set values, but no \"deleted\" field in the API response",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain the field \"deleted:null\" in the database",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a valid access should contain the field \"deleted:null\" in the database",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return an error",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a deleted access should return an error",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "error should say that the deleted field is forbidden upon creation",
        "fullTitle": "access deletions when given a few existing accesses accesses.create for a deleted access error should say that the deleted field is forbidden upon creation",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return an error",
        "fullTitle": "access deletions when given a few existing accesses accesses.update should return an error",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "error should say that the deleted field is forbidden upon update",
        "fullTitle": "access deletions when given a few existing accesses accesses.update error should say that the deleted field is forbidden upon update",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "access expiry when given a few existing accesses accesses.get vanilla version succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains only active accesses",
        "fullTitle": "access expiry when given a few existing accesses accesses.get vanilla version contains only active accesses",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "access expiry when given a few existing accesses accesses.get when given the includeExpired=true parameter succeeds",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "includes expired accesses",
        "fullTitle": "access expiry when given a few existing accesses accesses.get when given the includeExpired=true parameter includes expired accesses",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "creates an access with set expiry timestamp",
        "fullTitle": "access expiry when given a few existing accesses accesses.create when called with expireAfter>0 creates an access with set expiry timestamp",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "creates an expired access",
        "fullTitle": "access expiry when given a few existing accesses accesses.create when called with expireAfter=0 creates an expired access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails",
        "fullTitle": "access expiry when given a few existing accesses accesses.create when called with expireAfter<0 fails",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "sets the 'expires' attribute",
        "fullTitle": "access expiry when given a few existing accesses accesses.update with expireAfter>0 sets the 'expires' attribute",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "expires the access immediately",
        "fullTitle": "access expiry when given a few existing accesses accesses.update with expireAfter=0 expires the access immediately",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "removes expiry",
        "fullTitle": "access expiry when given a few existing accesses accesses.update with expires=null removes expiry",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails",
        "fullTitle": "access expiry when given a few existing accesses accesses.update when trying to update itself with a longer expiration fails",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the matching access",
        "fullTitle": "access expiry when given a few existing accesses accesses.checkApp when the matching access is not expired returns the matching access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns no match",
        "fullTitle": "access expiry when given a few existing accesses accesses.checkApp when the matching access is expired returns no match",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails",
        "fullTitle": "access expiry when given a few existing accesses other API accesses using an expired access fails",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns a proper error message",
        "fullTitle": "access expiry when given a few existing accesses other API accesses using an expired access returns a proper error message",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "access expiry when given a few existing accesses other API accesses using a valid access succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "access client data when given a few existing accesses accesses.get succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains existing accesses with clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.get contains existing accesses with clientData",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "creates an access with empty clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.create when called with clientData={} creates an access with empty clientData",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws a schema error",
        "fullTitle": "access client data when given a few existing accesses accesses.create when called with clientData=null throws a schema error",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "creates an access with complex clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.create when called with complex clientData creates an access with complex clientData",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "updates previous clientData with new clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.update if existing clientData was not empty updates previous clientData with new clientData",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "keeps existing clientData untouched",
        "fullTitle": "access client data when given a few existing accesses accesses.update if clientData is not provided keeps existing clientData untouched",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "sets clientData to provided clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.update if existing clientData was empty sets clientData to provided clientData",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "removes existing clientData",
        "fullTitle": "access client data when given a few existing accesses accesses.update if provided clientData is explicitely null removes existing clientData",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the matching access",
        "fullTitle": "access client data when given a few existing accesses accesses.checkApp when the provided clientData matches the existing clientData returns the matching access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns no match",
        "fullTitle": "access client data when given a few existing accesses accesses.checkApp when the provided clientData does not match the existing clientData returns no match",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns no match",
        "fullTitle": "access client data when given a few existing accesses accesses.checkApp when no clientData is provided but existing access has one returns no match",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "users pool create pool user succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "contains a generated pool user id",
        "fullTitle": "users pool create pool user contains a generated pool user id",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "created a user in the database",
        "fullTitle": "users pool create pool user created a user in the database",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "created the related collections",
        "fullTitle": "users pool create pool user created the related collections",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "created the related indexes",
        "fullTitle": "users pool create pool user created the related indexes",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must succeed",
        "fullTitle": "users pool get pool size when empty must succeed",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return 0",
        "fullTitle": "users pool get pool size when empty must return 0",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "succeeds",
        "fullTitle": "users pool get pool size when adding pool users succeeds",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "has the right number of pool users",
        "fullTitle": "users pool get pool size when adding pool users has the right number of pool users",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return shared accesses whose permissions are a subset of the current one's",
        "fullTitle": "accesses (app) GET / must return shared accesses whose permissions are a subset of the current one's",
        "duration": 71,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be forbidden to requests with a shared access token",
        "fullTitle": "accesses (app) GET / must be forbidden to requests with a shared access token",
        "duration": 13,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new shared access with the sent data and return it",
        "fullTitle": "accesses (app) POST / must create a new shared access with the sent data and return it",
        "duration": 44,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to create a non-shared access",
        "fullTitle": "accesses (app) POST / must forbid trying to create a non-shared access",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to create an access with greater permissions",
        "fullTitle": "accesses (app) POST / must forbid trying to create an access with greater permissions",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "accesses (app) POST / must return a correct error if the sent data is badly formatted",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow creation of shared accesses with an access that has superior permission on root stream (*)",
        "fullTitle": "accesses (app) POST / must allow creation of shared accesses with an access that has superior permission on root stream (*)",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the access with the sent data",
        "fullTitle": "accesses (app) PUT /<token> must modify the access with the sent data",
        "duration": 27,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to modify a non-shared access",
        "fullTitle": "accesses (app) PUT /<token> must forbid trying to modify a non-shared access",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to modify an access with greater permissions",
        "fullTitle": "accesses (app) PUT /<token> must forbid trying to modify an access with greater permissions",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the access does not exist",
        "fullTitle": "accesses (app) PUT /<token> must return a correct error if the access does not exist",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "accesses (app) PUT /<token> must return a correct error if the sent data is badly formatted",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if an access with the same name already exists",
        "fullTitle": "accesses (app) PUT /<token> must return a correct error if an access with the same name already exists",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the shared access",
        "fullTitle": "accesses (app) DELETE /<token> must delete the shared access",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to delete a non-shared access",
        "fullTitle": "accesses (app) DELETE /<token> must forbid trying to delete a non-shared access",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid trying to delete an access with greater permissions",
        "fullTitle": "accesses (app) DELETE /<token> must forbid trying to delete an access with greater permissions",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the access does not exist",
        "fullTitle": "accesses (app) DELETE /<token> must return a correct error if the access does not exist",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return all accesses (including personal ones)",
        "fullTitle": "accesses (personal) GET / must return all accesses (including personal ones)",
        "duration": 18,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new shared access with the sent data, returning it",
        "fullTitle": "accesses (personal) POST / must create a new shared access with the sent data, returning it",
        "duration": 35,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new app access with the sent data, creating/restoring requested streams",
        "fullTitle": "accesses (personal) POST / must create a new app access with the sent data, creating/restoring requested streams",
        "duration": 75,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept two app accesses with the same name (app ids) but different device names",
        "fullTitle": "accesses (personal) POST / must accept two app accesses with the same name (app ids) but different device names",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must ignore erroneous requests to create new streams",
        "fullTitle": "accesses (personal) POST / must ignore erroneous requests to create new streams",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if a stream similar to that requested for creation already exists",
        "fullTitle": "accesses (personal) POST / must fail if a stream similar to that requested for creation already exists",
        "duration": 20,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse to create new personal accesses (obtained via login only)",
        "fullTitle": "accesses (personal) POST / must refuse to create new personal accesses (obtained via login only)",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must slugify the new access' predefined token",
        "fullTitle": "accesses (personal) POST / must slugify the new access' predefined token",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the sent data is badly formatted",
        "fullTitle": "accesses (personal) POST / must return an error if the sent data is badly formatted",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse empty `defaultName` values for streams",
        "fullTitle": "accesses (personal) POST / must refuse empty `defaultName` values for streams",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if an access with the same token already exists",
        "fullTitle": "accesses (personal) POST / must return an error if an access with the same token already exists",
        "duration": 18,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if an access with the same name already exists",
        "fullTitle": "accesses (personal) POST / must return an error if an access with the same name already exists",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if an \"app\" access with the same name (app id) and device name already exists",
        "fullTitle": "accesses (personal) POST / must return an error if an \"app\" access with the same name (app id) and device name already exists",
        "duration": 24,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the device name is set for a non-app access",
        "fullTitle": "accesses (personal) POST / must return an error if the device name is set for a non-app access",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the given predefined access's token is a reserved word",
        "fullTitle": "accesses (personal) POST / must return an error if the given predefined access's token is a reserved word",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the shared access with the sent data",
        "fullTitle": "accesses (personal) PUT /<token> must modify the shared access with the sent data",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the personal access with the specified data",
        "fullTitle": "accesses (personal) PUT /<token> must modify the personal access with the specified data",
        "duration": 30,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the access does not exist",
        "fullTitle": "accesses (personal) PUT /<token> must return an error if the access does not exist",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the sent data is badly formatted",
        "fullTitle": "accesses (personal) PUT /<token> must return an error if the sent data is badly formatted",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if an access with the same name and type already exists",
        "fullTitle": "accesses (personal) PUT /<token> must return an error if an access with the same name and type already exists",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must prevent update of protected fields and throw a forbidden error in strict mode",
        "fullTitle": "accesses (personal) PUT /<token> forbidden updates of protected fields must prevent update of protected fields and throw a forbidden error in strict mode",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must prevent update of protected fields and log a warning in non-strict mode",
        "fullTitle": "accesses (personal) PUT /<token> forbidden updates of protected fields must prevent update of protected fields and log a warning in non-strict mode",
        "duration": 1158,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid to elevate a read level into a manage level using a contribute access ",
        "fullTitle": "accesses (personal) PUT /<token> forbidden updates of protected fields must forbid to elevate a read level into a manage level using a contribute access ",
        "duration": 70,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid to extend the permission streamIds beyond the authorized context ",
        "fullTitle": "accesses (personal) PUT /<token> forbidden updates of protected fields must forbid to extend the permission streamIds beyond the authorized context ",
        "duration": 58,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the shared access",
        "fullTitle": "accesses (personal) DELETE /<token> must delete the shared access",
        "duration": 36,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the personal access",
        "fullTitle": "accesses (personal) DELETE /<token> must delete the personal access",
        "duration": 30,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the access does not exist",
        "fullTitle": "accesses (personal) DELETE /<token> must return an error if the access does not exist",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the adjusted permissions structure if no access exists",
        "fullTitle": "accesses (personal) POST /check-app must return the adjusted permissions structure if no access exists",
        "duration": 16,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept requested permissions with \"*\" for \"all streams\"",
        "fullTitle": "accesses (personal) POST /check-app must accept requested permissions with \"*\" for \"all streams\"",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the existing app access if matching",
        "fullTitle": "accesses (personal) POST /check-app must return the existing app access if matching",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must also return the token of the existing mismatching access if any",
        "fullTitle": "accesses (personal) POST /check-app must also return the token of the existing mismatching access if any",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must propose fixes to duplicate ids of streams and signal an error when appropriate",
        "fullTitle": "accesses (personal) POST /check-app must propose fixes to duplicate ids of streams and signal an error when appropriate",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the sent data is badly formatted",
        "fullTitle": "accesses (personal) POST /check-app must return an error if the sent data is badly formatted",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be forbidden to non-personal accesses",
        "fullTitle": "accesses (personal) POST /check-app must be forbidden to non-personal accesses",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must authenticate the given credentials, open a session and return the access token",
        "fullTitle": "auth /login must authenticate the given credentials, open a session and return the access token",
        "duration": 166,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must reuse the current session if already open",
        "fullTitle": "auth /login must reuse the current session if already open",
        "duration": 217,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept \"wildcarded\" app ids and origins",
        "fullTitle": "auth /login must accept \"wildcarded\" app ids and origins",
        "duration": 99,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept \"no origin\" (i.e. not a CORS request) if authorized",
        "fullTitle": "auth /login must accept \"no origin\" (i.e. not a CORS request) if authorized",
        "duration": 120,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must also accept \"referer\" in place of \"origin\" (e.g. some browsers do not provide \"origin\")",
        "fullTitle": "auth /login must also accept \"referer\" in place of \"origin\" (e.g. some browsers do not provide \"origin\")",
        "duration": 102,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must also accept \"referer\" in place of \"origin\" (e.g. some browsers do not provide \"origin\")",
        "fullTitle": "auth /login must also accept \"referer\" in place of \"origin\" (e.g. some browsers do not provide \"origin\")",
        "duration": 105,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not be case-sensitive for the username",
        "fullTitle": "auth /login must not be case-sensitive for the username",
        "duration": 98,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error when the local credentials are missing or invalid",
        "fullTitle": "auth /login must return a correct error when the local credentials are missing or invalid",
        "duration": 90,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the app id is missing or untrusted",
        "fullTitle": "auth /login must return a correct error if the app id is missing or untrusted",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the origin is missing or does not match the app id",
        "fullTitle": "auth /login must return a correct error if the origin is missing or does not match the app id",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must support concurrent login request",
        "fullTitle": "auth /login must support concurrent login request",
        "duration": 119,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not leak _private object from Result",
        "fullTitle": "auth /login must not leak _private object from Result",
        "duration": 104,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must replace the password in the logs by (hidden) when an error occurs",
        "fullTitle": "auth /login when we log into a temporary log file must replace the password in the logs by (hidden) when an error occurs",
        "duration": 132,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not mention the password in the logs when none is provided",
        "fullTitle": "auth /login when we log into a temporary log file must not mention the password in the logs when none is provided",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must terminate the access session and fail to logout a second time (session already expired)",
        "fullTitle": "auth /logout must terminate the access session and fail to logout a second time (session already expired)",
        "duration": 222,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "(or any request) must alternatively accept the access token in the query string",
        "fullTitle": "auth /logout (or any request) must alternatively accept the access token in the query string",
        "duration": 141,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "GET /who-am-i must return a 404 as it has been deprecated",
        "fullTitle": "auth SSO support GET /who-am-i must return a 404 as it has been deprecated",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must set the SSO cookie on /login with the access token",
        "fullTitle": "auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set must set the SSO cookie on /login with the access token",
        "duration": 157,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must answer /who-am-i with username and session details if session open",
        "fullTitle": "auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set must answer /who-am-i with username and session details if session open",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must clear the SSO cookie on /logout",
        "fullTitle": "auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set must clear the SSO cookie on /logout",
        "duration": 45,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must respond /who-am-i with an \"unauthorized\" error if no cookie is sent",
        "fullTitle": "auth SSO support when deprecated.auth.ssoIsWhoamiActivated is set must respond /who-am-i with an \"unauthorized\" error if no cookie is sent",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return all followed slices (ordered by user name, then access token)",
        "fullTitle": "followed slices GET / must return all followed slices (ordered by user name, then access token)",
        "duration": 30,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be forbidden to non-personal accesses",
        "fullTitle": "followed slices GET / must be forbidden to non-personal accesses",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new followed slice with the sent data, returning it",
        "fullTitle": "followed slices POST / must create a new followed slice with the sent data, returning it",
        "duration": 35,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "followed slices POST / must return a correct error if the sent data is badly formatted",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the same followed slice (url and token) already exists",
        "fullTitle": "followed slices POST / must return a correct error if the same followed slice (url and token) already exists",
        "duration": 24,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if a followed slice with the same name already exists",
        "fullTitle": "followed slices POST / must return a correct error if a followed slice with the same name already exists",
        "duration": 19,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the followed slice with the sent data",
        "fullTitle": "followed slices PUT /<id> must modify the followed slice with the sent data",
        "duration": 31,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the followed slice does not exist",
        "fullTitle": "followed slices PUT /<id> must return a correct error if the followed slice does not exist",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "followed slices PUT /<id> must return a correct error if the sent data is badly formatted",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if a followed slice with the same name already exists",
        "fullTitle": "followed slices PUT /<id> must return a correct error if a followed slice with the same name already exists",
        "duration": 14,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the followed slice",
        "fullTitle": "followed slices DELETE /<id> must delete the followed slice",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the followed slice does not exist",
        "fullTitle": "followed slices DELETE /<id> must return a correct error if the followed slice does not exist",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with streams schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with streams schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with streams schema must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with events schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with events schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with events schema must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with accesses schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is null",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with accesses schema must throw a forbidden error if \"ignoreProtectedFieldUpdates\" is false",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "fullTitle": "methods/helpers/commonFunctions.js: catchForbiddenUpdate(schema) with accesses schema must not throw any error if \"ignoreProtectedFieldUpdates\" is true but print a warn log",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should throw an error if mailing method is invalid",
        "fullTitle": "Mailing helper methods should throw an error if mailing method is invalid",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should throw an error if mailing method is missing",
        "fullTitle": "Mailing helper methods should throw an error if mailing method is missing",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should not be empty",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should not be empty",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid auth key",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should contain a valid auth key",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid recipient",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should contain a valid recipient",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid substitution of variables",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should contain a valid substitution of variables",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain valid tags",
        "fullTitle": "Mailing helper methods using Mandrill validating request body should contain valid tags",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should not be empty",
        "fullTitle": "Mailing helper methods using Microservice validating request body should not be empty",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid auth key",
        "fullTitle": "Mailing helper methods using Microservice validating request body should contain a valid auth key",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid recipient",
        "fullTitle": "Mailing helper methods using Microservice validating request body should contain a valid recipient",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should contain a valid substitution of variables",
        "fullTitle": "Mailing helper methods using Microservice validating request body should contain a valid substitution of variables",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an array preceded by a comma when called with parameter isFirst=false",
        "fullTitle": "ArrayStream must return an array preceded by a comma when called with parameter isFirst=false",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit-3 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit-3 items",
        "duration": 37,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit-2 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit-2 items",
        "duration": 20,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit-1 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit-1 items",
        "duration": 17,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit+0 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit+0 items",
        "duration": 17,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit+1 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit+1 items",
        "duration": 13,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit+2 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit+2 items",
        "duration": 19,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving limit+3 items",
        "fullTitle": "ArrayStream testing around the array size limit must return a valid array when receiving limit+3 items",
        "duration": 17,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving 0 item(s)",
        "fullTitle": "ArrayStream testing with small number of items must return a valid array when receiving 0 item(s)",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving 1 item(s)",
        "fullTitle": "ArrayStream testing with small number of items must return a valid array when receiving 1 item(s)",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving 2 item(s)",
        "fullTitle": "ArrayStream testing with small number of items must return a valid array when receiving 2 item(s)",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a valid array when receiving 3 item(s)",
        "fullTitle": "ArrayStream testing with small number of items must return a valid array when receiving 3 item(s)",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be fed objects and return them in the callback",
        "fullTitle": "DrainStream must be fed objects and return them in the callback",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error when the provided limit is exceeded",
        "fullTitle": "DrainStream must return an error when the provided limit is exceeded",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "`get` must only return streams for which permissions are defined",
        "fullTitle": "Access permissions Streams `get` must only return streams for which permissions are defined",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid creating child streams in 'read-only' streams",
        "fullTitle": "Access permissions Streams must forbid creating child streams in 'read-only' streams",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid creating child streams in 'contribute' streams",
        "fullTitle": "Access permissions Streams must forbid creating child streams in 'contribute' streams",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid deleting child streams in 'contribute' streams",
        "fullTitle": "Access permissions Streams must forbid deleting child streams in 'contribute' streams",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid updating 'contribute' streams",
        "fullTitle": "Access permissions Streams must forbid updating 'contribute' streams",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid deleting 'contribute' streams",
        "fullTitle": "Access permissions Streams must forbid deleting 'contribute' streams",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow creating child streams in 'managed' streams",
        "fullTitle": "Access permissions Streams must allow creating child streams in 'managed' streams",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must forbid moving streams into non-'managed' parent streams",
        "fullTitle": "Access permissions Streams must forbid moving streams into non-'managed' parent streams",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow deleting child streams in 'managed' streams",
        "fullTitle": "Access permissions Streams must allow deleting child streams in 'managed' streams",
        "duration": 18,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must recursively apply permissions to the streams' child streams",
        "fullTitle": "Access permissions Streams must recursively apply permissions to the streams' child streams",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow access to all streams when no specific stream permissions are defined",
        "fullTitle": "Access permissions Streams must allow access to all streams when no specific stream permissions are defined",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow access to all streams when only tag permissions are defined",
        "fullTitle": "Access permissions Streams must allow access to all streams when only tag permissions are defined",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must only allow access to set streams when both tag and stream permissions are defined",
        "fullTitle": "Access permissions Streams must only allow access to set streams when both tag and stream permissions are defined",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must handle optional caller id in auth (in addition to token)",
        "fullTitle": "Access permissions Auth and change tracking must handle optional caller id in auth (in addition to token)",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be supported and deny access when failing",
        "fullTitle": "Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) must be supported and deny access when failing",
        "duration": 80,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow access when successful",
        "fullTitle": "Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) must allow access when successful",
        "duration": 38,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail properly (i.e. not granting access) when the custom function crashes",
        "fullTitle": "Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) must fail properly (i.e. not granting access) when the custom function crashes",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must validate the custom function at startup time",
        "fullTitle": "Access permissions Auth and change tracking custom auth step (e.g. to validate/parse caller id) must validate the custom function at startup time",
        "duration": 622,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return publicly shared key-value profile info",
        "fullTitle": "profile (app) GET /public must return publicly shared key-value profile info",
        "duration": 61,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return key-value settings for the current app",
        "fullTitle": "profile (app) GET /app must return key-value settings for the current app",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse requests with a shared access token",
        "fullTitle": "profile (app) GET /app must refuse requests with a shared access token",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse requests with a personal access token",
        "fullTitle": "profile (app) GET /app must refuse requests with a personal access token",
        "duration": 124,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must add/update/remove the specified keys without touching the others",
        "fullTitle": "profile (app) PUT /app must add/update/remove the specified keys without touching the others",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse requests with a shared access token",
        "fullTitle": "profile (app) PUT /app must refuse requests with a shared access token",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse requests with a personal access token",
        "fullTitle": "profile (app) PUT /app must refuse requests with a personal access token",
        "duration": 119,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "/public must return publicly shared key-value profile info",
        "fullTitle": "profile (personal) GET /public must return publicly shared key-value profile info",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "/private must return private key-value profile info",
        "fullTitle": "profile (personal) GET /private must return private key-value profile info",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an appropriate error for other paths",
        "fullTitle": "profile (personal) GET must return an appropriate error for other paths",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "\"private\" must be forbidden to non-personal accesses",
        "fullTitle": "profile (personal) GET \"private\" must be forbidden to non-personal accesses",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "/public must add/update/remove the specified keys without touching the others",
        "fullTitle": "profile (personal) PUT /public must add/update/remove the specified keys without touching the others",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "/private must add/update/remove the specified keys without touching the others",
        "fullTitle": "profile (personal) PUT /private must add/update/remove the specified keys without touching the others",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create the profile if not existing",
        "fullTitle": "profile (personal) PUT must create the profile if not existing",
        "duration": 59,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an appropriate error for other paths",
        "fullTitle": "profile (personal) PUT must return an appropriate error for other paths",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must be forbidden to non-personal accesses",
        "fullTitle": "profile (personal) PUT must be forbidden to non-personal accesses",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the result's content when not storing streams",
        "fullTitle": "Result toObject() must return the result's content when not storing streams",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the result content when storing streams",
        "fullTitle": "Result toObject() must return the result content when storing streams",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error object when attempting to serialize streams containing an amountof objects exceeding the limit",
        "fullTitle": "Result toObject() must return an error object when attempting to serialize streams containing an amountof objects exceeding the limit",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error when storing piped streams",
        "fullTitle": "Result toObject() must return an error when storing piped streams",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return basic server meta information as JSON when requested",
        "fullTitle": "root GET / should return basic server meta information as JSON when requested",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return basic server meta information as text otherwise",
        "fullTitle": "root GET / should return basic server meta information as text otherwise",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return an error if trying to access an unknown user account",
        "fullTitle": "root GET / should return an error if trying to access an unknown user account",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return correct common HTTP headers + meta data in response body",
        "fullTitle": "root All requests: should return correct common HTTP headers + meta data in response body",
        "duration": 31,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return meta data in response body for errors as well",
        "fullTitle": "root All requests: should return meta data in response body for errors as well",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should properly translate the Host header's username (i.e. subdomain)",
        "fullTitle": "root All requests: should properly translate the Host header's username (i.e. subdomain)",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should translate the username in subdomain also when it only contains numbers",
        "fullTitle": "root All requests: should translate the username in subdomain also when it only contains numbers",
        "duration": 110,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should support POSTing \"urlencoded\" content with _json and _auth fields",
        "fullTitle": "root All requests: should support POSTing \"urlencoded\" content with _json and _auth fields",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should support POSTing \"urlencoded\" content with _json, _method (PUT) and _auth fields",
        "fullTitle": "root All requests: should support POSTing \"urlencoded\" content with _json, _method (PUT) and _auth fields",
        "duration": 35,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should support POSTing \"urlencoded\" content with _json, _method (DELETE) and _auth fields",
        "fullTitle": "root All requests: should support POSTing \"urlencoded\" content with _json, _method (DELETE) and _auth fields",
        "duration": 46,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should properly handle JSON errors when POSTing \"urlencoded\" content with _json field",
        "fullTitle": "root All requests: should properly handle JSON errors when POSTing \"urlencoded\" content with _json field",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should update the access's \"last used\" time and *internal* request counters",
        "fullTitle": "root All requests: should update the access's \"last used\" time and *internal* request counters",
        "duration": 19,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return OK",
        "fullTitle": "root OPTIONS / should return OK",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return current access information",
        "fullTitle": "root GET /access-info must return current access information",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must execute the given method calls and return the results",
        "fullTitle": "root POST / (i.e. batch call) must execute the given method calls and return the results",
        "duration": 76,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must execute the method calls containing events.get and return the results",
        "fullTitle": "root POST / (i.e. batch call) must execute the method calls containing events.get and return the results",
        "duration": 73,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the sent data is badly formatted",
        "fullTitle": "root POST / (i.e. batch call) must return an error if the sent data is badly formatted",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must dynamically create a namespace for the user",
        "fullTitle": "Socket.IO must dynamically create a namespace for the user",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must connect to a user with a dash in the username",
        "fullTitle": "Socket.IO must connect to a user with a dash in the username",
        "duration": 147,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must refuse connection if no valid access token is provided",
        "fullTitle": "Socket.IO must refuse connection if no valid access token is provided",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must properly route method call messages for events and return the results, including meta",
        "fullTitle": "Socket.IO calling API methods must properly route method call messages for events and return the results, including meta",
        "duration": 20,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must properly route method call messages for streams and return the results",
        "fullTitle": "Socket.IO calling API methods must properly route method call messages for streams and return the results",
        "duration": 15,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not crash when callers omit the callback",
        "fullTitle": "Socket.IO calling API methods must not crash when callers omit the callback",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if the called target does not exist",
        "fullTitle": "Socket.IO calling API methods must fail if the called target does not exist",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if the called method does not exist",
        "fullTitle": "Socket.IO calling API methods must fail if the called method does not exist",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return API errors properly, including meta",
        "fullTitle": "Socket.IO calling API methods must return API errors properly, including meta",
        "duration": 16,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must notify other sockets for the same user about events changes",
        "fullTitle": "Socket.IO calling API methods must notify other sockets for the same user about events changes",
        "duration": 38,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must notify other sockets for the same user (only) about streams changes",
        "fullTitle": "Socket.IO calling API methods must notify other sockets for the same user (only) about streams changes",
        "duration": 103,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must notify on each change",
        "fullTitle": "Socket.IO calling API methods must notify on each change",
        "duration": 61,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "changes made in A notify clients of B",
        "fullTitle": "Socket.IO when spawning 2 api-server processes, A and B changes made in A notify clients of B",
        "duration": 120,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return non-trashed streams (as a tree) by default",
        "fullTitle": "streams GET / must return non-trashed streams (as a tree) by default",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return all streams (trashed or not) when requested",
        "fullTitle": "streams GET / must return all streams (trashed or not) when requested",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must include stream deletions (since the given time) when requested",
        "fullTitle": "streams GET / must include stream deletions (since the given time) when requested",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must include stream deletions even when the given time is 0",
        "fullTitle": "streams GET / must include stream deletions even when the given time is 0",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 401 error if no access token is provided",
        "fullTitle": "streams GET / must return a correct 401 error if no access token is provided",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return child streams when providing a parent stream id",
        "fullTitle": "streams GET / must return child streams when providing a parent stream id",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the parent stream is unknown",
        "fullTitle": "streams GET / must return a correct error if the parent stream is unknown",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new \"root\" stream with the sent data, returning it",
        "fullTitle": "streams POST / must create a new \"root\" stream with the sent data, returning it",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "streams POST / must return a correct error if the sent data is badly formatted",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if a stream with the same id already exists",
        "fullTitle": "streams POST / must return a correct error if a stream with the same id already exists",
        "duration": 16,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must allow reuse of deleted ids",
        "fullTitle": "streams POST / must allow reuse of deleted ids",
        "duration": 37,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept explicit null for optional fields",
        "fullTitle": "streams POST / must accept explicit null for optional fields",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if a sibling stream with the same name already exists",
        "fullTitle": "streams POST / must fail if a sibling stream with the same name already exists",
        "duration": 19,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is not valid JSON",
        "fullTitle": "streams POST / must return a correct error if the sent data is not valid JSON",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new child stream (with predefined id) when providing a parent stream id",
        "fullTitle": "streams POST / must create a new child stream (with predefined id) when providing a parent stream id",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an error if the new stream's parentId is the empty string",
        "fullTitle": "streams POST / must return an error if the new stream's parentId is the empty string",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must slugify the new stream's predefined id",
        "fullTitle": "streams POST / must slugify the new stream's predefined id",
        "duration": 27,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the parent stream is unknown",
        "fullTitle": "streams POST / must return a correct error if the parent stream is unknown",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the given predefined stream's id is \"null\"",
        "fullTitle": "streams POST / must return a correct error if the given predefined stream's id is \"null\"",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the given predefined stream's id is \"*\"",
        "fullTitle": "streams POST / must return a correct error if the given predefined stream's id is \"*\"",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must modify the stream with the sent data",
        "fullTitle": "streams PUT /<id> must modify the stream with the sent data",
        "duration": 31,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must accept explicit null for optional fields",
        "fullTitle": "streams PUT /<id> must accept explicit null for optional fields",
        "duration": 30,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must add/update/remove the specified client data fields without touching the others",
        "fullTitle": "streams PUT /<id> must add/update/remove the specified client data fields without touching the others",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the stream does not exist",
        "fullTitle": "streams PUT /<id> must return a correct error if the stream does not exist",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the sent data is badly formatted",
        "fullTitle": "streams PUT /<id> must return a correct error if the sent data is badly formatted",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail if a sibling stream with the same name already exists",
        "fullTitle": "streams PUT /<id> must fail if a sibling stream with the same name already exists",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must move the stream under the given parent when specified",
        "fullTitle": "streams PUT /<id> must move the stream under the given parent when specified",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the new parent stream is unknown",
        "fullTitle": "streams PUT /<id> must return a correct error if the new parent stream is unknown",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must fail and throw a forbidden error in strict mode",
        "fullTitle": "streams PUT /<id> forbidden updates of protected fields must fail and throw a forbidden error in strict mode",
        "duration": 7,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must succeed by ignoring protected fields and log a warning in non-strict mode",
        "fullTitle": "streams PUT /<id> forbidden updates of protected fields must succeed by ignoring protected fields and log a warning in non-strict mode",
        "duration": 1238,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must flag the specified stream as trashed",
        "fullTitle": "streams DELETE /<id> must flag the specified stream as trashed",
        "duration": 33,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must delete the stream when already trashed with its descendants if there are no linked events",
        "fullTitle": "streams DELETE /<id> must delete the stream when already trashed with its descendants if there are no linked events",
        "duration": 50,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if there are linked events and the related parameter is missing",
        "fullTitle": "streams DELETE /<id> must return a correct error if there are linked events and the related parameter is missing",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must reject the deletion of a root stream with mergeEventsWithParent=true",
        "fullTitle": "streams DELETE /<id> must reject the deletion of a root stream with mergeEventsWithParent=true",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must reassign the linked events to the deleted stream's parent when specified",
        "fullTitle": "streams DELETE /<id> must reassign the linked events to the deleted stream's parent when specified",
        "duration": 61,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the item is unknown",
        "fullTitle": "streams DELETE /<id> must return a correct error if the item is unknown",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not send a welcome email if mailing is deactivated",
        "fullTitle": "system (ex-register) POST /create-user must not send a welcome email if mailing is deactivated",
        "duration": 1337,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not send a welcome email if welcome mail is deactivated",
        "fullTitle": "system (ex-register) POST /create-user must not send a welcome email if welcome mail is deactivated",
        "duration": 1333,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must create a new user with the sent data, sending a welcome email",
        "fullTitle": "system (ex-register) POST /create-user when email sending really works must create a new user with the sent data, sending a welcome email",
        "duration": 1352,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must run the process but not save anything for test username \"recla\"",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must run the process but not save anything for test username \"recla\"",
        "duration": 1442,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must support the old \"/register\" path for backwards-compatibility",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must support the old \"/register\" path for backwards-compatibility",
        "duration": 71,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if the sent data is badly formatted",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if the sent data is badly formatted",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if the language property is above 5 characters",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if the language property is above 5 characters",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if the language property is the empty string",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if the language property is the empty string",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if a user with the same user name already exists",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if a user with the same user name already exists",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 400 error if a user with the same email address already exists",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 400 error if a user with the same email address already exists",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 404 error when authentication is invalid",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct 404 error when authentication is invalid",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct error if the content type is wrong",
        "fullTitle": "system (ex-register) POST /create-user when it just replies OK must return a correct error if the content type is wrong",
        "duration": 6,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must replace the passwordHash in the logs by (hidden) when the authentication is invalid",
        "fullTitle": "system (ex-register) POST /create-user when we log into a temporary log file must replace the passwordHash in the logs by (hidden) when the authentication is invalid",
        "duration": 53,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must replace the passwordHash in the logs by (hidden) when the payload is invalid (here parameters)",
        "fullTitle": "system (ex-register) POST /create-user when we log into a temporary log file must replace the passwordHash in the logs by (hidden) when the payload is invalid (here parameters)",
        "duration": 8,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must not mention the passwordHash in the logs when none is provided",
        "fullTitle": "system (ex-register) POST /create-user when we log into a temporary log file must not mention the passwordHash in the logs when none is provided",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return user information (including time of last account use)",
        "fullTitle": "system (ex-register) GET /user-info/{username} must return user information (including time of last account use)",
        "duration": 89,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return a correct 404 error when authentication is invalid",
        "fullTitle": "system (ex-register) GET /user-info/{username} must return a correct 404 error when authentication is invalid",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should parse file uploads",
        "fullTitle": "uploads middleware hasFileUpload should parse file uploads",
        "duration": 21,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #serverReady notifies internal listeners",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #serverReady notifies axon listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #accountChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #accountChanged notifies axon listeners",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #accessesChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #accessesChanged notifies axon listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #followedSlicesChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #followedSlicesChanged notifies axon listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #streamsChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #streamsChanged notifies axon listeners",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies internal listeners",
        "fullTitle": "Notifications #eventsChanged notifies internal listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "notifies axon listeners",
        "fullTitle": "Notifications #eventsChanged notifies axon listeners",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns true if all properties exist",
        "fullTitle": "Authentication hasProperties returns true if all properties exist",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns false if not all properties exist",
        "fullTitle": "Authentication hasProperties returns false if not all properties exist",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns false if null is given",
        "fullTitle": "Authentication hasProperties returns false if null is given",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns false if a string is given",
        "fullTitle": "Authentication hasProperties returns false if a string is given",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should behave as documented in the method",
        "fullTitle": "tryCoerceStringValues should behave as documented in the method",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "doesn't create keys in object",
        "fullTitle": "tryCoerceStringValues doesn't create keys in object",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should convert to array",
        "fullTitle": "tryCoerceStringValues should convert to array",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "number conversion works",
        "fullTitle": "tryCoerceStringValues number conversion works",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should construct",
        "fullTitle": "NatsPublisher should construct",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "delivers messages to \"USERNAME.sok1\"",
        "fullTitle": "NatsPublisher delivers messages to \"USERNAME.sok1\"",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should construct",
        "fullTitle": "NatsSubscriber should construct",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "accepts messages from USERNAME.sok1 and dispatches them to sinks",
        "fullTitle": "NatsSubscriber when subscribed to \"foobar\" subscribe(\"USERNAME\") accepts messages from USERNAME.sok1 and dispatches them to sinks",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "ignores messages from other users",
        "fullTitle": "NatsSubscriber when subscribed to \"foobar\" subscribe(\"USERNAME\") ignores messages from other users",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should unsubscribe from NATS",
        "fullTitle": "NatsSubscriber when subscribed to \"foobar\" unsubscribe() should unsubscribe from NATS",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "api-server"
  },
  {
    "stats": {
      "suites": 22,
      "tests": 43,
      "passes": 38,
      "pending": 0,
      "failures": 5,
      "start": "2019-05-06T12:23:52.109Z",
      "end": "2019-05-06T12:23:52.284Z",
      "duration": 175
    },
    "tests": [
      {
        "title": "should allow writing to a series",
        "fullTitle": "Manage InfluxDB data (business.series.*) should allow writing to a series",
        "duration": 10,
        "currentRetry": 0,
        "err": {
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8086\n    at Object._errnoException (util.js:1022:11)\n    at _exceptionWithHostPort (util.js:1044:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1198:14)",
          "message": "connect ECONNREFUSED 127.0.0.1:8086",
          "code": "ECONNREFUSED",
          "errno": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8086
        }
      },
      {
        "title": "should parse the happy case",
        "fullTitle": "BatchRequest .parse should parse the happy case",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "accepts an empty batch",
        "fullTitle": "BatchRequest .parse accepts an empty batch",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws if format is missing or wrong",
        "fullTitle": "BatchRequest .parse throws if format is missing or wrong",
        "duration": 1,
        "currentRetry": 0,
        "err": {
          "message": "expected [Function] to throw ParseFailure",
          "showDiff": true,
          "expected": "class ParseFailure extends Error {}",
          "stack": "AssertionError: expected [Function] to throw ParseFailure\n    at bad (test/unit/series/batch_request.test.js:64:14)\n    at Context.it (test/unit/series/batch_request.test.js:48:7)"
        }
      },
      {
        "title": "throws if another type is passed in",
        "fullTitle": "BatchRequest .parse throws if another type is passed in",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws if envelope doesn't have a data attribute",
        "fullTitle": "BatchRequest .parse throws if envelope doesn't have a data attribute",
        "duration": 0,
        "currentRetry": 0,
        "err": {
          "message": "expected [Function] to throw ParseFailure",
          "showDiff": true,
          "expected": "class ParseFailure extends Error {}",
          "stack": "AssertionError: expected [Function] to throw ParseFailure\n    at bad (test/unit/series/batch_request.test.js:64:14)\n    at Context.it (test/unit/series/batch_request.test.js:57:7)"
        }
      },
      {
        "title": "should parse a good looking object",
        "fullTitle": "BatchRequestElement .parse(obj) should parse a good looking object",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails if input is not an Object",
        "fullTitle": "BatchRequestElement .parse(obj) fails if input is not an Object",
        "duration": 1,
        "currentRetry": 0,
        "err": {
          "message": "expected [Function] to throw ParseFailure",
          "showDiff": true,
          "expected": "class ParseFailure extends Error {}",
          "stack": "AssertionError: expected [Function] to throw ParseFailure\n    at bad (test/unit/series/batch_request.test.js:103:14)\n    at Context.it (test/unit/series/batch_request.test.js:94:7)"
        }
      },
      {
        "title": "fails if eventId is missing or the wrong type",
        "fullTitle": "BatchRequestElement .parse(obj) fails if eventId is missing or the wrong type",
        "duration": 0,
        "currentRetry": 0,
        "err": {
          "message": "expected [Function] to throw ParseFailure",
          "showDiff": true,
          "expected": "class ParseFailure extends Error {}",
          "stack": "AssertionError: expected [Function] to throw ParseFailure\n    at bad (test/unit/series/batch_request.test.js:103:14)\n    at Context.it (test/unit/series/batch_request.test.js:98:7)"
        }
      },
      {
        "title": "should accept the happy path",
        "fullTitle": "DataMatrix .parse(obj) should accept the happy path",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if not an object",
        "fullTitle": "DataMatrix .parse(obj) refuses if not an object",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if format is not flatJSON",
        "fullTitle": "DataMatrix .parse(obj) refuses if format is not flatJSON",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if fields are not strings",
        "fullTitle": "DataMatrix .parse(obj) refuses if fields are not strings",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if points is not an array",
        "fullTitle": "DataMatrix .parse(obj) refuses if points is not an array",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if field names are not correct",
        "fullTitle": "DataMatrix .parse(obj) refuses if field names are not correct",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if data cannot be coerced",
        "fullTitle": "DataMatrix .parse(obj) refuses if data cannot be coerced",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should iterate over all matrix rows",
        "fullTitle": "DataMatrix #eachRow should iterate over all matrix rows",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should call fn for each cell",
        "fullTitle": "DataMatrix #transform should call fn for each cell",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should store the return value in the matrix",
        "fullTitle": "DataMatrix #transform should store the return value in the matrix",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the minimum and maximum timestamp used",
        "fullTitle": "DataMatrix #minmax() returns the minimum and maximum timestamp used",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws an error if the matrix is empty",
        "fullTitle": "DataMatrix #minmax() throws an error if the matrix is empty",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws an error if the timestamp is missing",
        "fullTitle": "DataMatrix #minmax() throws an error if the timestamp is missing",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return a js object for the row",
        "fullTitle": "business.series.Row toStruct should return a js object for the row",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should produce series objects for events",
        "fullTitle": "business.series.Repository with stubbed out connection should produce series objects for events",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should work (must be called manually)",
        "fullTitle": "business.types.TypeRepository type list update should work (must be called manually)",
        "duration": 108,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should fail gracefully",
        "fullTitle": "business.types.TypeRepository type list update should fail gracefully",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be known",
        "fullTitle": "business.types.TypeRepository basic types like mass/kg should be known",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return a type instance allowing conversion",
        "fullTitle": "business.types.TypeRepository basic types like mass/kg should return a type instance allowing conversion",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should throw when conversion fails",
        "fullTitle": "business.types.TypeRepository basic types like mass/kg should throw when conversion fails",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should coerce to number during validation",
        "fullTitle": "business.types.TypeRepository basic types like mass/kg should coerce to number during validation",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be known",
        "fullTitle": "business.types.TypeRepository complex types like position/wgs84 should be known",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return a complex type instance",
        "fullTitle": "business.types.TypeRepository complex types like position/wgs84 should return a complex type instance",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return the correct value type for all fields",
        "fullTitle": "business.types.TypeRepository complex types on several levels like message/facebook should return the correct value type for all fields",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return the correct value type for optional fields",
        "fullTitle": "business.types.TypeRepository complex types on several levels like message/facebook should return the correct value type for optional fields",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should resolve nested fields",
        "fullTitle": "business.types.TypeRepository complex types on several levels like message/facebook should resolve nested fields",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "does NOT handle requiredFields fully yet: only surface requirements are returned",
        "fullTitle": "business.types.TypeRepository complex types on several levels like message/facebook does NOT handle requiredFields fully yet: only surface requirements are returned",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be known",
        "fullTitle": "business.types.TypeRepository placeholder types like picture/attached should be known",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return a type instance allowing conversion",
        "fullTitle": "business.types.TypeRepository placeholder types like picture/attached should return a type instance allowing conversion",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be known",
        "fullTitle": "business.types.TypeRepository series types like series:mass/kg should be known",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should inform about fields correctly",
        "fullTitle": "business.types.TypeRepository series types like series:mass/kg should inform about fields correctly",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be produced via a type repository",
        "fullTitle": "business.types.TypeValidator should be produced via a type repository",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should validate simple types",
        "fullTitle": "business.types.TypeValidator should validate simple types",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should validate complex types",
        "fullTitle": "business.types.TypeValidator should validate complex types",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [],
    "failures": [
      {
        "title": "should allow writing to a series",
        "fullTitle": "Manage InfluxDB data (business.series.*) should allow writing to a series",
        "duration": 10,
        "currentRetry": 0,
        "err": {
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8086\n    at Object._errnoException (util.js:1022:11)\n    at _exceptionWithHostPort (util.js:1044:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1198:14)",
          "message": "connect ECONNREFUSED 127.0.0.1:8086",
          "code": "ECONNREFUSED",
          "errno": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8086
        }
      },
      {
        "title": "throws if format is missing or wrong",
        "fullTitle": "BatchRequest .parse throws if format is missing or wrong",
        "duration": 1,
        "currentRetry": 0,
        "err": {
          "message": "expected [Function] to throw ParseFailure",
          "showDiff": true,
          "expected": "class ParseFailure extends Error {}",
          "stack": "AssertionError: expected [Function] to throw ParseFailure\n    at bad (test/unit/series/batch_request.test.js:64:14)\n    at Context.it (test/unit/series/batch_request.test.js:48:7)"
        }
      },
      {
        "title": "throws if envelope doesn't have a data attribute",
        "fullTitle": "BatchRequest .parse throws if envelope doesn't have a data attribute",
        "duration": 0,
        "currentRetry": 0,
        "err": {
          "message": "expected [Function] to throw ParseFailure",
          "showDiff": true,
          "expected": "class ParseFailure extends Error {}",
          "stack": "AssertionError: expected [Function] to throw ParseFailure\n    at bad (test/unit/series/batch_request.test.js:64:14)\n    at Context.it (test/unit/series/batch_request.test.js:57:7)"
        }
      },
      {
        "title": "fails if input is not an Object",
        "fullTitle": "BatchRequestElement .parse(obj) fails if input is not an Object",
        "duration": 1,
        "currentRetry": 0,
        "err": {
          "message": "expected [Function] to throw ParseFailure",
          "showDiff": true,
          "expected": "class ParseFailure extends Error {}",
          "stack": "AssertionError: expected [Function] to throw ParseFailure\n    at bad (test/unit/series/batch_request.test.js:103:14)\n    at Context.it (test/unit/series/batch_request.test.js:94:7)"
        }
      },
      {
        "title": "fails if eventId is missing or the wrong type",
        "fullTitle": "BatchRequestElement .parse(obj) fails if eventId is missing or the wrong type",
        "duration": 0,
        "currentRetry": 0,
        "err": {
          "message": "expected [Function] to throw ParseFailure",
          "showDiff": true,
          "expected": "class ParseFailure extends Error {}",
          "stack": "AssertionError: expected [Function] to throw ParseFailure\n    at bad (test/unit/series/batch_request.test.js:103:14)\n    at Context.it (test/unit/series/batch_request.test.js:98:7)"
        }
      }
    ],
    "passes": [
      {
        "title": "should parse the happy case",
        "fullTitle": "BatchRequest .parse should parse the happy case",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "accepts an empty batch",
        "fullTitle": "BatchRequest .parse accepts an empty batch",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws if another type is passed in",
        "fullTitle": "BatchRequest .parse throws if another type is passed in",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should parse a good looking object",
        "fullTitle": "BatchRequestElement .parse(obj) should parse a good looking object",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should accept the happy path",
        "fullTitle": "DataMatrix .parse(obj) should accept the happy path",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if not an object",
        "fullTitle": "DataMatrix .parse(obj) refuses if not an object",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if format is not flatJSON",
        "fullTitle": "DataMatrix .parse(obj) refuses if format is not flatJSON",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if fields are not strings",
        "fullTitle": "DataMatrix .parse(obj) refuses if fields are not strings",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if points is not an array",
        "fullTitle": "DataMatrix .parse(obj) refuses if points is not an array",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if field names are not correct",
        "fullTitle": "DataMatrix .parse(obj) refuses if field names are not correct",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses if data cannot be coerced",
        "fullTitle": "DataMatrix .parse(obj) refuses if data cannot be coerced",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should iterate over all matrix rows",
        "fullTitle": "DataMatrix #eachRow should iterate over all matrix rows",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should call fn for each cell",
        "fullTitle": "DataMatrix #transform should call fn for each cell",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should store the return value in the matrix",
        "fullTitle": "DataMatrix #transform should store the return value in the matrix",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the minimum and maximum timestamp used",
        "fullTitle": "DataMatrix #minmax() returns the minimum and maximum timestamp used",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws an error if the matrix is empty",
        "fullTitle": "DataMatrix #minmax() throws an error if the matrix is empty",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws an error if the timestamp is missing",
        "fullTitle": "DataMatrix #minmax() throws an error if the timestamp is missing",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return a js object for the row",
        "fullTitle": "business.series.Row toStruct should return a js object for the row",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should produce series objects for events",
        "fullTitle": "business.series.Repository with stubbed out connection should produce series objects for events",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should work (must be called manually)",
        "fullTitle": "business.types.TypeRepository type list update should work (must be called manually)",
        "duration": 108,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should fail gracefully",
        "fullTitle": "business.types.TypeRepository type list update should fail gracefully",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be known",
        "fullTitle": "business.types.TypeRepository basic types like mass/kg should be known",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return a type instance allowing conversion",
        "fullTitle": "business.types.TypeRepository basic types like mass/kg should return a type instance allowing conversion",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should throw when conversion fails",
        "fullTitle": "business.types.TypeRepository basic types like mass/kg should throw when conversion fails",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should coerce to number during validation",
        "fullTitle": "business.types.TypeRepository basic types like mass/kg should coerce to number during validation",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be known",
        "fullTitle": "business.types.TypeRepository complex types like position/wgs84 should be known",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return a complex type instance",
        "fullTitle": "business.types.TypeRepository complex types like position/wgs84 should return a complex type instance",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return the correct value type for all fields",
        "fullTitle": "business.types.TypeRepository complex types on several levels like message/facebook should return the correct value type for all fields",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return the correct value type for optional fields",
        "fullTitle": "business.types.TypeRepository complex types on several levels like message/facebook should return the correct value type for optional fields",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should resolve nested fields",
        "fullTitle": "business.types.TypeRepository complex types on several levels like message/facebook should resolve nested fields",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "does NOT handle requiredFields fully yet: only surface requirements are returned",
        "fullTitle": "business.types.TypeRepository complex types on several levels like message/facebook does NOT handle requiredFields fully yet: only surface requirements are returned",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be known",
        "fullTitle": "business.types.TypeRepository placeholder types like picture/attached should be known",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return a type instance allowing conversion",
        "fullTitle": "business.types.TypeRepository placeholder types like picture/attached should return a type instance allowing conversion",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be known",
        "fullTitle": "business.types.TypeRepository series types like series:mass/kg should be known",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should inform about fields correctly",
        "fullTitle": "business.types.TypeRepository series types like series:mass/kg should inform about fields correctly",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be produced via a type repository",
        "fullTitle": "business.types.TypeValidator should be produced via a type repository",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should validate simple types",
        "fullTitle": "business.types.TypeValidator should validate simple types",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should validate complex types",
        "fullTitle": "business.types.TypeValidator should validate complex types",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "business"
  },
  {
    "stats": {
      "suites": 26,
      "tests": 43,
      "passes": 32,
      "pending": 0,
      "failures": 11,
      "start": "2019-05-06T12:23:53.662Z",
      "end": "2019-05-06T12:24:00.667Z",
      "duration": 7005
    },
    "tests": [
      {
        "title": "should store data correctly",
        "fullTitle": "Storing BATCH data in a HF series Use Case: Store data in InfluxDB, Verification on either half should store data correctly",
        "duration": 117,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
        }
      },
      {
        "title": "should fail without 'Authorization' header",
        "fullTitle": "Storing BATCH data in a HF series POST /:user_name/series/batch should fail without 'Authorization' header",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails",
        "fullTitle": "Storing BATCH data in a HF series POST /:user_name/series/batch when the token has no permissions on the event fails",
        "duration": 23,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should schedule a metadata update on every store",
        "fullTitle": "Storing BATCH data in a HF series POST /:user_name/series/batch when using a metadata updater stub should schedule a metadata update on every store",
        "duration": 85,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
        }
      },
      {
        "title": "should refuse a query for an unknown user",
        "fullTitle": "Querying data from a HF series should refuse a query for an unknown user",
        "duration": 49,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query missing the authorization token",
        "fullTitle": "Querying data from a HF series should refuse a query missing the authorization token",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query containing an unauthorized token",
        "fullTitle": "Querying data from a HF series should refuse a query containing an unauthorized token",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return an unknown resource error when querying data for an nonexistent event id",
        "fullTitle": "Querying data from a HF series should return an unknown resource error when querying data for an nonexistent event id",
        "duration": 34,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query containing parameters with the wrong format",
        "fullTitle": "Querying data from a HF series should refuse a query containing parameters with the wrong format",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query when toTime is before fromTime",
        "fullTitle": "Querying data from a HF series should refuse a query when toTime is before fromTime",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should store data correctly",
        "fullTitle": "Storing data in a HF series Use Case: Store data in InfluxDB, Verification on either half should store data correctly",
        "duration": 85,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
        }
      },
      {
        "title": "should return data once stored",
        "fullTitle": "Storing data in a HF series Use Case: Store data in InfluxDB, Verification on either half should return data once stored",
        "duration": 4,
        "currentRetry": 0,
        "err": {
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8086\n    at Object._errnoException (util.js:1022:11)\n    at _exceptionWithHostPort (util.js:1044:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1198:14)",
          "message": "connect ECONNREFUSED 127.0.0.1:8086",
          "code": "ECONNREFUSED",
          "errno": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8086
        }
      },
      {
        "title": "stores data into InfluxDB",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success stores data into InfluxDB",
        "duration": 32,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
        }
      },
      {
        "title": "should reject non-JSON bodies",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success should reject non-JSON bodies",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "responds with headers that allow CORS on OPTIONS",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success responds with headers that allow CORS on OPTIONS",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "responds with headers that allow CORS on POST",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success responds with headers that allow CORS on POST",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (format is not flatJSON)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (format is not flatJSON)",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (matrix is not square - not enough fields)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (matrix is not square - not enough fields)",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (value types are not all valid)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (value types are not all valid)",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (missing timestamp column)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (missing timestamp column)",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (missing value column for a simple input)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (missing value column for a simple input)",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should schedule a metadata update on every store",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when using a metadata updater stub should schedule a metadata update on every store",
        "duration": 8,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 503 \"Service Unavailable\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 503 \"Service Unavailable\""
        }
      },
      {
        "title": "refuses invalid/unauthorized accesses",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth failure refuses invalid/unauthorized accesses",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "stores data of any basic type",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats stores data of any basic type",
        "duration": 109,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:419:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "stores data of complex types",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats stores data of complex types",
        "duration": 23,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:425:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "doesn't accept data in non-series format",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats doesn't accept data in non-series format",
        "duration": 28,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "stores strings",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats stores strings",
        "duration": 27,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:443:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "stores floats",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats stores floats",
        "duration": 27,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:452:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "refuses to store when timestamp is present twice (ambiguous!)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic refuses to store when timestamp is present twice (ambiguous!)",
        "duration": 83,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses to store when other fields are present twice (ambiguous!)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic refuses to store when other fields are present twice (ambiguous!)",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses to store when not all required fields are given",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when not all required fields are given refuses to store when not all required fields are given",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns error id \"invalid-request-structure\"",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when not all required fields are given returns error id \"invalid-request-structure\"",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses to store when field names don't match the type",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when field names don't match the type refuses to store when field names don't match the type",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the error message with the id \"invalid-request-structure\"",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when field names don't match the type returns the error message with the id \"invalid-request-structure\"",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "allows storing any number of optional fields, on each request",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as position/wgs84 allows storing any number of optional fields, on each request",
        "duration": 94,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:640:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "refuses unknown fields",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as position/wgs84 refuses unknown fields",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should allow write access to series",
        "fullTitle": "Metadata Loader should allow write access to series",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns loaded metadata for N minutes",
        "fullTitle": "Metadata Cache returns loaded metadata for N minutes",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "can be constructed",
        "fullTitle": "Server can be constructed",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "starts a http server on configured port",
        "fullTitle": "Server .start starts a http server on configured port",
        "duration": 15,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should have been loaded for test execution",
        "fullTitle": "Settings should have been loaded for test execution",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should reject queries if the authorization header is missing",
        "fullTitle": "Controller storeSeriesData should reject queries if the authorization header is missing",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should reject queries if the eventId is missing",
        "fullTitle": "Controller storeSeriesData should reject queries if the eventId is missing",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [],
    "failures": [
      {
        "title": "should store data correctly",
        "fullTitle": "Storing BATCH data in a HF series Use Case: Store data in InfluxDB, Verification on either half should store data correctly",
        "duration": 117,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
        }
      },
      {
        "title": "should schedule a metadata update on every store",
        "fullTitle": "Storing BATCH data in a HF series POST /:user_name/series/batch when using a metadata updater stub should schedule a metadata update on every store",
        "duration": 85,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
        }
      },
      {
        "title": "should store data correctly",
        "fullTitle": "Storing data in a HF series Use Case: Store data in InfluxDB, Verification on either half should store data correctly",
        "duration": 85,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
        }
      },
      {
        "title": "should return data once stored",
        "fullTitle": "Storing data in a HF series Use Case: Store data in InfluxDB, Verification on either half should return data once stored",
        "duration": 4,
        "currentRetry": 0,
        "err": {
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8086\n    at Object._errnoException (util.js:1022:11)\n    at _exceptionWithHostPort (util.js:1044:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1198:14)",
          "message": "connect ECONNREFUSED 127.0.0.1:8086",
          "code": "ECONNREFUSED",
          "errno": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8086
        }
      },
      {
        "title": "stores data into InfluxDB",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success stores data into InfluxDB",
        "duration": 32,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
        }
      },
      {
        "title": "should schedule a metadata update on every store",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when using a metadata updater stub should schedule a metadata update on every store",
        "duration": 8,
        "currentRetry": 0,
        "err": {
          "stack": "Error: expected 200 \"OK\", got 503 \"Service Unavailable\"\n    at Test._assertStatus (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:268:12)\n    at Test._assertFunction (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:283:11)\n    at Test.assert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:173:18)\n    at localAssert (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:131:12)\n    at /Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/supertest/lib/test.js:128:5\n    at Test.Request.callback (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:728:3)\n    at parser (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/index.js:916:18)\n    at IncomingMessage.res.on (/Users/thiebaudmodoux/Desktop/pryv_projects/service-core/dist/node_modules/superagent/lib/node/parsers/json.js:19:7)\n    at endReadableNT (_stream_readable.js:1064:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)",
          "message": "expected 200 \"OK\", got 503 \"Service Unavailable\""
        }
      },
      {
        "title": "stores data of any basic type",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats stores data of any basic type",
        "duration": 109,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:419:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "stores data of complex types",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats stores data of complex types",
        "duration": 23,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:425:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "stores strings",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats stores strings",
        "duration": 27,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:443:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "stores floats",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats stores floats",
        "duration": 27,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:452:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      },
      {
        "title": "allows storing any number of optional fields, on each request",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as position/wgs84 allows storing any number of optional fields, on each request",
        "duration": 94,
        "currentRetry": 0,
        "err": {
          "message": "expected false to be true",
          "showDiff": true,
          "actual": "false",
          "expected": "true",
          "stack": "AssertionError: expected false to be true\n    at Context.it (test/acceptance/store_data.test.js:640:16)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)"
        }
      }
    ],
    "passes": [
      {
        "title": "should fail without 'Authorization' header",
        "fullTitle": "Storing BATCH data in a HF series POST /:user_name/series/batch should fail without 'Authorization' header",
        "duration": 32,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails",
        "fullTitle": "Storing BATCH data in a HF series POST /:user_name/series/batch when the token has no permissions on the event fails",
        "duration": 23,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query for an unknown user",
        "fullTitle": "Querying data from a HF series should refuse a query for an unknown user",
        "duration": 49,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query missing the authorization token",
        "fullTitle": "Querying data from a HF series should refuse a query missing the authorization token",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query containing an unauthorized token",
        "fullTitle": "Querying data from a HF series should refuse a query containing an unauthorized token",
        "duration": 9,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should return an unknown resource error when querying data for an nonexistent event id",
        "fullTitle": "Querying data from a HF series should return an unknown resource error when querying data for an nonexistent event id",
        "duration": 34,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query containing parameters with the wrong format",
        "fullTitle": "Querying data from a HF series should refuse a query containing parameters with the wrong format",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should refuse a query when toTime is before fromTime",
        "fullTitle": "Querying data from a HF series should refuse a query when toTime is before fromTime",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should reject non-JSON bodies",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success should reject non-JSON bodies",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "responds with headers that allow CORS on OPTIONS",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success responds with headers that allow CORS on OPTIONS",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "responds with headers that allow CORS on POST",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success responds with headers that allow CORS on POST",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (format is not flatJSON)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (format is not flatJSON)",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (matrix is not square - not enough fields)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (matrix is not square - not enough fields)",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (value types are not all valid)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (value types are not all valid)",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (missing timestamp column)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (missing timestamp column)",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should be rejected (missing value column for a simple input)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth success when request is malformed should be rejected (missing value column for a simple input)",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses invalid/unauthorized accesses",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series bypassing authentication with auth failure refuses invalid/unauthorized accesses",
        "duration": 29,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "doesn't accept data in non-series format",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series storing data in different formats doesn't accept data in non-series format",
        "duration": 28,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses to store when timestamp is present twice (ambiguous!)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic refuses to store when timestamp is present twice (ambiguous!)",
        "duration": 83,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses to store when other fields are present twice (ambiguous!)",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic refuses to store when other fields are present twice (ambiguous!)",
        "duration": 10,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses to store when not all required fields are given",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when not all required fields are given refuses to store when not all required fields are given",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns error id \"invalid-request-structure\"",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when not all required fields are given returns error id \"invalid-request-structure\"",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses to store when field names don't match the type",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when field names don't match the type refuses to store when field names don't match the type",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the error message with the id \"invalid-request-structure\"",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as ratio/generic when field names don't match the type returns the error message with the id \"invalid-request-structure\"",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "refuses unknown fields",
        "fullTitle": "Storing data in a HF series POST /events/EVENT_ID/series complex types such as position/wgs84 refuses unknown fields",
        "duration": 5,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should allow write access to series",
        "fullTitle": "Metadata Loader should allow write access to series",
        "duration": 11,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns loaded metadata for N minutes",
        "fullTitle": "Metadata Cache returns loaded metadata for N minutes",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "can be constructed",
        "fullTitle": "Server can be constructed",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "starts a http server on configured port",
        "fullTitle": "Server .start starts a http server on configured port",
        "duration": 15,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should have been loaded for test execution",
        "fullTitle": "Settings should have been loaded for test execution",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should reject queries if the authorization header is missing",
        "fullTitle": "Controller storeSeriesData should reject queries if the authorization header is missing",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should reject queries if the eventId is missing",
        "fullTitle": "Controller storeSeriesData should reject queries if the eventId is missing",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "hfs-server"
  },
  {
    "stats": {
      "suites": 22,
      "tests": 26,
      "passes": 26,
      "pending": 0,
      "failures": 0,
      "start": "2019-05-06T12:24:02.286Z",
      "end": "2019-05-06T12:24:03.338Z",
      "duration": 1052
    },
    "tests": [
      {
        "title": "allows scheduling an update",
        "fullTitle": "Metadata Updater allows scheduling an update",
        "duration": 48,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "starts a timer and runs #act every n ms",
        "fullTitle": "Metadata Updater/Controller #runEach(ms) starts a timer and runs #act every n ms",
        "duration": 24,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "constructs an Flush operation for the update and returns it",
        "fullTitle": "Metadata Updater/Controller #flushOp(update) constructs an Flush operation for the update and returns it",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "pulls elapsed updates and flushes them to MongoDB",
        "fullTitle": "Metadata Updater/Controller #act pulls elapsed updates and flushes them to MongoDB",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "forwards calls",
        "fullTitle": "ErrorLogger forwards calls",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "catches and logs all exceptions, rethrowing afterwards",
        "fullTitle": "ErrorLogger catches and logs all exceptions, rethrowing afterwards",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "also works for async methods, waiting for the eventual result",
        "fullTitle": "ErrorLogger also works for async methods, waiting for the eventual result",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "writes event metadata to disk",
        "fullTitle": "Flush event with no existing metadata writes event metadata to disk",
        "duration": 20,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "doesn't destroy old earliest and latest",
        "fullTitle": "Flush event with existing metadata doesn't destroy old earliest and latest",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "leaves base data intact",
        "fullTitle": "Flush event with existing metadata leaves base data intact",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the user id",
        "fullTitle": "UserRepository #resolve(name) returns the user id",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "caches the user information for a while",
        "fullTitle": "UserRepository #resolve(name) caches the user information for a while",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "stores updates",
        "fullTitle": "PendingUpdatesMap #merge and #get stores updates",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "merges updates with preexisting updates via #merge",
        "fullTitle": "PendingUpdatesMap #merge and #get merges updates with preexisting updates via #merge",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns all updates that should be flushed",
        "fullTitle": "PendingUpdatesMap #elapsed returns all updates that should be flushed",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "uses #flushAt to determine deadlines",
        "fullTitle": "PendingUpdatesMap #elapsed uses #flushAt to determine deadlines",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "constructively merges two updates",
        "fullTitle": "PendingUpdate #merge constructively merges two updates",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails when key is not equal",
        "fullTitle": "PendingUpdate #merge fails when key is not equal",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns `cooldown` when deadline is far away",
        "fullTitle": "PendingUpdate #flushAt() returns `cooldown` when deadline is far away",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns `deadline` when deadline is < `cooldown`",
        "fullTitle": "PendingUpdate #flushAt() returns `deadline` when deadline is < `cooldown`",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns a settings object for the log subsystem",
        "fullTitle": "Settings #getLogSettingsObject returns a settings object for the log subsystem",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "loads settings from an extended JSON file",
        "fullTitle": "Settings #loadFromFile(json_file_path) loads settings from an extended JSON file",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "loads settings from an extended HJSON file",
        "fullTitle": "Settings #loadFromFile(json_file_path) loads settings from an extended HJSON file",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "loads settings from an extended YAML file",
        "fullTitle": "Settings #loadFromFile(json_file_path) loads settings from an extended YAML file",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "pops an item",
        "fullTitle": "Heap #pop pops an item",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns null if the heap is empty",
        "fullTitle": "Heap #pop returns null if the heap is empty",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [],
    "failures": [],
    "passes": [
      {
        "title": "allows scheduling an update",
        "fullTitle": "Metadata Updater allows scheduling an update",
        "duration": 48,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "starts a timer and runs #act every n ms",
        "fullTitle": "Metadata Updater/Controller #runEach(ms) starts a timer and runs #act every n ms",
        "duration": 24,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "constructs an Flush operation for the update and returns it",
        "fullTitle": "Metadata Updater/Controller #flushOp(update) constructs an Flush operation for the update and returns it",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "pulls elapsed updates and flushes them to MongoDB",
        "fullTitle": "Metadata Updater/Controller #act pulls elapsed updates and flushes them to MongoDB",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "forwards calls",
        "fullTitle": "ErrorLogger forwards calls",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "catches and logs all exceptions, rethrowing afterwards",
        "fullTitle": "ErrorLogger catches and logs all exceptions, rethrowing afterwards",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "also works for async methods, waiting for the eventual result",
        "fullTitle": "ErrorLogger also works for async methods, waiting for the eventual result",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "writes event metadata to disk",
        "fullTitle": "Flush event with no existing metadata writes event metadata to disk",
        "duration": 20,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "doesn't destroy old earliest and latest",
        "fullTitle": "Flush event with existing metadata doesn't destroy old earliest and latest",
        "duration": 12,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "leaves base data intact",
        "fullTitle": "Flush event with existing metadata leaves base data intact",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns the user id",
        "fullTitle": "UserRepository #resolve(name) returns the user id",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "caches the user information for a while",
        "fullTitle": "UserRepository #resolve(name) caches the user information for a while",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "stores updates",
        "fullTitle": "PendingUpdatesMap #merge and #get stores updates",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "merges updates with preexisting updates via #merge",
        "fullTitle": "PendingUpdatesMap #merge and #get merges updates with preexisting updates via #merge",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns all updates that should be flushed",
        "fullTitle": "PendingUpdatesMap #elapsed returns all updates that should be flushed",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "uses #flushAt to determine deadlines",
        "fullTitle": "PendingUpdatesMap #elapsed uses #flushAt to determine deadlines",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "constructively merges two updates",
        "fullTitle": "PendingUpdate #merge constructively merges two updates",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "fails when key is not equal",
        "fullTitle": "PendingUpdate #merge fails when key is not equal",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns `cooldown` when deadline is far away",
        "fullTitle": "PendingUpdate #flushAt() returns `cooldown` when deadline is far away",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns `deadline` when deadline is < `cooldown`",
        "fullTitle": "PendingUpdate #flushAt() returns `deadline` when deadline is < `cooldown`",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns a settings object for the log subsystem",
        "fullTitle": "Settings #getLogSettingsObject returns a settings object for the log subsystem",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "loads settings from an extended JSON file",
        "fullTitle": "Settings #loadFromFile(json_file_path) loads settings from an extended JSON file",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "loads settings from an extended HJSON file",
        "fullTitle": "Settings #loadFromFile(json_file_path) loads settings from an extended HJSON file",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "loads settings from an extended YAML file",
        "fullTitle": "Settings #loadFromFile(json_file_path) loads settings from an extended YAML file",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "pops an item",
        "fullTitle": "Heap #pop pops an item",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns null if the heap is empty",
        "fullTitle": "Heap #pop returns null if the heap is empty",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "metadata"
  },
  {
    "stats": {
      "suites": 6,
      "tests": 7,
      "passes": 7,
      "pending": 0,
      "failures": 0,
      "start": "2019-05-06T12:24:04.253Z",
      "end": "2019-05-06T12:24:04.372Z",
      "duration": 119
    },
    "tests": [
      {
        "title": "returns a version-string",
        "fullTitle": "ProjectVersion#version when no \".api-version\" file is available returns a version-string",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns a git describe string",
        "fullTitle": "ProjectVersion#version when no \".api-version\" file is available returns a git describe string",
        "duration": 38,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "reads .api-version and returns that constant",
        "fullTitle": "ProjectVersion#version when a \".api-version\" file exists in the project reads .api-version and returns that constant",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws an error",
        "fullTitle": "ProjectVersion#version when neither method works throws an error",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should not transform illegal usernames",
        "fullTitle": "subdomainToPath middleware using a minimal application should not transform illegal usernames",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should transform username into a path segment",
        "fullTitle": "subdomainToPath middleware using a minimal application should transform username into a path segment",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should accept dashes",
        "fullTitle": "subdomainToPath middleware using a minimal application should accept dashes",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [],
    "failures": [],
    "passes": [
      {
        "title": "returns a version-string",
        "fullTitle": "ProjectVersion#version when no \".api-version\" file is available returns a version-string",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "returns a git describe string",
        "fullTitle": "ProjectVersion#version when no \".api-version\" file is available returns a git describe string",
        "duration": 38,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "reads .api-version and returns that constant",
        "fullTitle": "ProjectVersion#version when a \".api-version\" file exists in the project reads .api-version and returns that constant",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "throws an error",
        "fullTitle": "ProjectVersion#version when neither method works throws an error",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should not transform illegal usernames",
        "fullTitle": "subdomainToPath middleware using a minimal application should not transform illegal usernames",
        "duration": 25,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should transform username into a path segment",
        "fullTitle": "subdomainToPath middleware using a minimal application should transform username into a path segment",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should accept dashes",
        "fullTitle": "subdomainToPath middleware using a minimal application should accept dashes",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "middleware"
  },
  {
    "stats": {
      "suites": 3,
      "tests": 4,
      "passes": 4,
      "pending": 0,
      "failures": 0,
      "start": "2019-05-06T12:24:04.891Z",
      "end": "2019-05-06T12:24:04.913Z",
      "duration": 22
    },
    "tests": [
      {
        "title": "should parse token out",
        "fullTitle": "MethodContext #parseAuth should parse token out",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should also parse the callerId when available",
        "fullTitle": "MethodContext #parseAuth should also parse the callerId when available",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "checks expiry of the access",
        "fullTitle": "MethodContext #retrieveAccessFromId checks expiry of the access",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "loads the access",
        "fullTitle": "MethodContext #retrieveAccessFromId loads the access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [],
    "failures": [],
    "passes": [
      {
        "title": "should parse token out",
        "fullTitle": "MethodContext #parseAuth should parse token out",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "should also parse the callerId when available",
        "fullTitle": "MethodContext #parseAuth should also parse the callerId when available",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "checks expiry of the access",
        "fullTitle": "MethodContext #retrieveAccessFromId checks expiry of the access",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "loads the access",
        "fullTitle": "MethodContext #retrieveAccessFromId loads the access",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "model"
  },
  {
    "stats": {
      "suites": 3,
      "tests": 1,
      "passes": 1,
      "pending": 0,
      "failures": 1,
      "start": "2019-05-06T12:24:05.759Z",
      "end": "2019-05-06T12:24:06.698Z",
      "duration": 939
    },
    "tests": [
      {
        "title": "should return OK",
        "fullTitle": "(index) OPTIONS / should return OK",
        "duration": 22,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [],
    "failures": [
      {
        "title": "\"before all\" hook",
        "fullTitle": "event previews \"before all\" hook",
        "duration": 284,
        "currentRetry": 0,
        "err": {
          "stack": "Error: EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "message": "EACCES: permission denied, rmdir '/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000'",
          "errno": -13,
          "code": "EACCES",
          "syscall": "rmdir",
          "path": "/Users/thiebaudmodoux/Desktop/pryv_projects/service-core-files/attachments/u_0/cthisistesteventno0000000"
        }
      }
    ],
    "passes": [
      {
        "title": "should return OK",
        "fullTitle": "(index) OPTIONS / should return OK",
        "duration": 22,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "previews-server"
  },
  {
    "stats": {
      "suites": 2,
      "tests": 3,
      "passes": 3,
      "pending": 0,
      "failures": 0,
      "start": "2019-05-06T12:24:07.209Z",
      "end": "2019-05-06T12:24:07.290Z",
      "duration": 81
    },
    "tests": [
      {
        "title": "making a call",
        "fullTitle": "Base API making a call",
        "duration": 31,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "failing a call (server-side)",
        "fullTitle": "Base API failing a call (server-side)",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "compiles a .proto 3 syntax file into a set of flow-type interfaces",
        "fullTitle": "Type Compilation compiles a .proto 3 syntax file into a set of flow-type interfaces",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [],
    "failures": [],
    "passes": [
      {
        "title": "making a call",
        "fullTitle": "Base API making a call",
        "duration": 31,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "failing a call (server-side)",
        "fullTitle": "Base API failing a call (server-side)",
        "duration": 2,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "compiles a .proto 3 syntax file into a set of flow-type interfaces",
        "fullTitle": "Type Compilation compiles a .proto 3 syntax file into a set of flow-type interfaces",
        "duration": 4,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "tprpc"
  },
  {
    "stats": {
      "suites": 7,
      "tests": 10,
      "passes": 10,
      "pending": 0,
      "failures": 0,
      "start": "2019-05-06T12:24:07.576Z",
      "end": "2019-05-06T12:24:07.585Z",
      "duration": 9
    },
    "tests": [
      {
        "title": "must build a correct tree for a given consistent array",
        "fullTitle": "tree utils buildTree() must build a correct tree for a given consistent array",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw an error if objects do not contain the necessary properties",
        "fullTitle": "tree utils buildTree() must throw an error if objects do not contain the necessary properties",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw an error if the object in argument is not an array",
        "fullTitle": "tree utils buildTree() must throw an error if the object in argument is not an array",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must build a correct array for a given tree",
        "fullTitle": "tree utils flattenTree() must build a correct array for a given tree",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw an error if the object in argument is not an array",
        "fullTitle": "tree utils flattenTree() must throw an error if the object in argument is not an array",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the first item matching the given iterator function",
        "fullTitle": "tree utils findInTree() must return the first item matching the given iterator function",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return null if no item matches the given iterator function",
        "fullTitle": "tree utils findInTree() must return null if no item matches the given iterator function",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return only items matching the given iterator function",
        "fullTitle": "tree utils filterTree() must return only items matching the given iterator function",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an array with values matching the iterator function for each item in the tree",
        "fullTitle": "tree utils collect() must return an array with values matching the iterator function for each item in the tree",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an array with the ids passed in argument plus those of all their descendants",
        "fullTitle": "tree utils expandIds() must return an array with the ids passed in argument plus those of all their descendants",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "pending": [],
    "failures": [],
    "passes": [
      {
        "title": "must build a correct tree for a given consistent array",
        "fullTitle": "tree utils buildTree() must build a correct tree for a given consistent array",
        "duration": 3,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw an error if objects do not contain the necessary properties",
        "fullTitle": "tree utils buildTree() must throw an error if objects do not contain the necessary properties",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw an error if the object in argument is not an array",
        "fullTitle": "tree utils buildTree() must throw an error if the object in argument is not an array",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must build a correct array for a given tree",
        "fullTitle": "tree utils flattenTree() must build a correct array for a given tree",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must throw an error if the object in argument is not an array",
        "fullTitle": "tree utils flattenTree() must throw an error if the object in argument is not an array",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return the first item matching the given iterator function",
        "fullTitle": "tree utils findInTree() must return the first item matching the given iterator function",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return null if no item matches the given iterator function",
        "fullTitle": "tree utils findInTree() must return null if no item matches the given iterator function",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return only items matching the given iterator function",
        "fullTitle": "tree utils filterTree() must return only items matching the given iterator function",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an array with values matching the iterator function for each item in the tree",
        "fullTitle": "tree utils collect() must return an array with values matching the iterator function for each item in the tree",
        "duration": 1,
        "currentRetry": 0,
        "err": {}
      },
      {
        "title": "must return an array with the ids passed in argument plus those of all their descendants",
        "fullTitle": "tree utils expandIds() must return an array with the ids passed in argument plus those of all their descendants",
        "duration": 0,
        "currentRetry": 0,
        "err": {}
      }
    ],
    "componentName": "utils"
  }
]